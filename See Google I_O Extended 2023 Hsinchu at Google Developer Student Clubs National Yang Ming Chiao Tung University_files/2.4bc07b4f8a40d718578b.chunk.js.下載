(window["webpackJsonpglobal"]=window["webpackJsonpglobal"]||[]).push([[2],{1434:function(e,r,t){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function n(e){return e!=null&&typeof e==="object"&&Array.isArray(e)===false}
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function a(e){return n(e)===true&&Object.prototype.toString.call(e)==="[object Object]"}function i(e){var r,t;if(a(e)===false)return false;r=e.constructor;if(typeof r!=="function")return false;t=r.prototype;if(a(t)===false)return false;if(t.hasOwnProperty("isPrototypeOf")===false){return false}return true}var o=i;var s=t(3761);function f(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];if(false){var a,i}throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function u(e){return!!e&&!!e[ae]}function l(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var r=Object.getPrototypeOf(e);return!r||r===Object.prototype}(e)||Array.isArray(e)||!!e[ne]||!!e.constructor[ne]||y(e)||b(e))}function c(e){return u(e)||f(23,e),e[ae].t}function v(e,r,t){void 0===t&&(t=!1),0===h(e)?(t?Object.keys:se)(e).forEach((function(n){t&&"symbol"==typeof n||r(n,e[n],e)})):e.forEach((function(t,n){return r(n,t,e)}))}function h(e){var r=e[ae];return r?r.i>3?r.i-4:r.i:Array.isArray(e)?1:y(e)?2:b(e)?3:0}function d(e,r){return 2===h(e)?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function p(e,r){return 2===h(e)?e.get(r):e[r]}function g(e,r,t){var n=h(e);2===n?e.set(r,t):3===n?(e.delete(r),e.add(t)):e[r]=t}function m(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}function y(e){return Y&&e instanceof Map}function b(e){return ee&&e instanceof Set}function w(e){return e.o||e.t}function O(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var r=fe(e);delete r[ae];for(var t=se(r),n=0;n<t.length;n++){var a=t[n],i=r[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(r[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),r)}function P(e,r){return void 0===r&&(r=!1),A(e)||u(e)||!l(e)?e:(h(e)>1&&(e.set=e.add=e.clear=e.delete=x),Object.freeze(e),r&&v(e,(function(e,r){return P(r,!0)}),!0),e)}function x(){f(2)}function A(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function F(e){var r=ue[e];return r||f(18,e),r}function j(e,r){ue[e]||(ue[e]=r)}function E(){return true||false,H}function k(e,r){r&&(F("Patches"),e.u=[],e.s=[],e.v=r)}function D(e){C(e),e.p.forEach(_),e.p=null}function C(e){e===H&&(H=e.l)}function N(e){return H={p:[],l:H,h:e,m:!0,_:0}}function _(e){var r=e[ae];0===r.i||1===r.i?r.j():r.g=!0}function B(e,r){r._=r.p.length;var t=r.p[0],n=void 0!==e&&e!==t;return r.h.O||F("ES5").S(r,e,n),n?(t[ae].P&&(D(r),f(4)),l(e)&&(e=S(r,e),r.l||T(r,e)),r.u&&F("Patches").M(t[ae],e,r.u,r.s)):e=S(r,t,[]),D(r),r.u&&r.v(r.u,r.s),e!==te?e:void 0}function S(e,r,t){if(A(r))return r;var n=r[ae];if(!n)return v(r,(function(a,i){return R(e,n,r,a,i,t)}),!0),r;if(n.A!==e)return r;if(!n.P)return T(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=4===n.i||5===n.i?n.o=O(n.k):n.o;v(3===n.i?new Set(a):a,(function(r,i){return R(e,n,a,r,i,t)})),T(e,a,!1),t&&e.u&&F("Patches").R(n,t,e.u,e.s)}return n.o}function R(e,r,t,n,a,i){if(false&&false,u(a)){var o=S(e,a,i&&r&&3!==r.i&&!d(r.D,n)?i.concat(n):void 0);if(g(t,n,o),!u(o))return;e.m=!1}if(l(a)&&!A(a)){if(!e.h.N&&e._<1)return;S(e,a),r&&r.A.l||T(e,a)}}function T(e,r,t){void 0===t&&(t=!1),e.h.N&&e.m&&P(r,t)}function I(e,r){var t=e[ae];return(t?w(t):e)[r]}function q(e,r){if(r in e)for(var t=Object.getPrototypeOf(e);t;){var n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=Object.getPrototypeOf(t)}}function z(e){e.P||(e.P=!0,e.l&&z(e.l))}function M(e){e.o||(e.o=O(e.t))}function W(e,r,t){var n=y(r)?F("MapSet").T(r,t):b(r)?F("MapSet").F(r,t):e.O?function(e,r){var t=Array.isArray(e),n={i:t?1:0,A:r?r.A:E(),P:!1,I:!1,D:{},l:r,t:e,k:null,o:null,j:null,C:!1},a=n,i=le;t&&(a=[n],i=ce);var o=Proxy.revocable(a,i),s=o.revoke,f=o.proxy;return n.k=f,n.j=s,f}(r,t):F("ES5").J(r,t);return(t?t.A:E()).p.push(n),n}function J(e){return u(e)||f(22,e),function e(r){if(!l(r))return r;var t,n=r[ae],a=h(r);if(n){if(!n.P&&(n.i<4||!F("ES5").K(n)))return n.t;n.I=!0,t=V(r,a),n.I=!1}else t=V(r,a);return v(t,(function(r,a){n&&p(n.t,r)===a||g(t,r,e(a))})),3===a?new Set(t):t}(e)}function V(e,r){switch(r){case 2:return new Map(e);case 3:return Array.from(e)}return O(e)}function L(){function e(e,r){var t=i[e];return t?t.enumerable=r:i[e]=t={configurable:!0,enumerable:r,get:function(){var r=this[ae];return false&&false,le.get(r,e)},set:function(r){var t=this[ae];false&&false,le.set(t,e,r)}},t}function r(e){for(var r=e.length-1;r>=0;r--){var a=e[r][ae];if(!a.P)switch(a.i){case 5:n(a)&&z(a);break;case 4:t(a)&&z(a)}}}function t(e){for(var r=e.t,t=e.k,n=se(t),a=n.length-1;a>=0;a--){var i=n[a];if(i!==ae){var o=r[i];if(void 0===o&&!d(r,i))return!0;var s=t[i],f=s&&s[ae];if(f?f.t!==o:!m(s,o))return!0}}var u=!!r[ae];return n.length!==se(r).length+(u?0:1)}function n(e){var r=e.k;if(r.length!==e.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);return!(!t||t.get)}function a(e){e.g&&f(3,JSON.stringify(w(e)))}var i={};j("ES5",{J:function(r,t){var n=Array.isArray(r),a=function(r,t){if(r){for(var n=Array(t.length),a=0;a<t.length;a++)Object.defineProperty(n,""+a,e(a,!0));return n}var i=fe(t);delete i[ae];for(var o=se(i),s=0;s<o.length;s++){var f=o[s];i[f]=e(f,r||!!i[f].enumerable)}return Object.create(Object.getPrototypeOf(t),i)}(n,r),i={i:n?5:4,A:t?t.A:E(),P:!1,I:!1,D:{},l:t,t:r,k:a,o:null,g:!1,C:!1};return Object.defineProperty(a,ae,{value:i,writable:!0}),a},S:function(e,t,a){a?u(t)&&t[ae].A===e&&r(e.p):(e.u&&function e(r){if(r&&"object"==typeof r){var t=r[ae];if(t){var a=t.t,i=t.k,o=t.D,s=t.i;if(4===s)v(i,(function(r){r!==ae&&(void 0!==a[r]||d(a,r)?o[r]||e(i[r]):(o[r]=!0,z(t)))})),v(a,(function(e){void 0!==i[e]||d(i,e)||(o[e]=!1,z(t))}));else if(5===s){if(n(t)&&(z(t),o.length=!0),i.length<a.length)for(var f=i.length;f<a.length;f++)o[f]=!1;else for(var u=a.length;u<i.length;u++)o[u]=!0;for(var l=Math.min(i.length,a.length),c=0;c<l;c++)void 0===o[c]&&e(i[c])}}}}(e.p[0]),r(e.p))},K:function(e){return 4===e.i?t(e):n(e)}})}function K(){function e(r){if(!l(r))return r;if(Array.isArray(r))return r.map(e);if(y(r))return new Map(Array.from(r.entries()).map((function(r){return[r[0],e(r[1])]})));if(b(r))return new Set(Array.from(r).map(e));var t=Object.create(Object.getPrototypeOf(r));for(var n in r)t[n]=e(r[n]);return t}function r(r){return u(r)?e(r):r}var t="add";j("Patches",{$:function(r,n){return n.forEach((function(n){for(var a=n.path,i=n.op,o=r,s=0;s<a.length-1;s++){var u=h(o),l=a[s];0!==u&&1!==u||"__proto__"!==l&&"constructor"!==l||f(24),"function"==typeof o&&"prototype"===l&&f(24),"object"!=typeof(o=p(o,l))&&f(15,a.join("/"))}var c=h(o),v=e(n.value),d=a[a.length-1];switch(i){case"replace":switch(c){case 2:return o.set(d,v);case 3:f(16);default:return o[d]=v}case t:switch(c){case 1:return o.splice(d,0,v);case 2:return o.set(d,v);case 3:return o.add(v);default:return o[d]=v}case"remove":switch(c){case 1:return o.splice(d,1);case 2:return o.delete(d);case 3:return o.delete(n.value);default:return delete o[d]}default:f(17,i)}})),r},R:function(e,n,a,i){switch(e.i){case 0:case 4:case 2:return function(e,n,a,i){var o=e.t,s=e.o;v(e.D,(function(e,f){var u=p(o,e),l=p(s,e),c=f?d(o,e)?"replace":t:"remove";if(u!==l||"replace"!==c){var v=n.concat(e);a.push("remove"===c?{op:c,path:v}:{op:c,path:v,value:l}),i.push(c===t?{op:"remove",path:v}:"remove"===c?{op:t,path:v,value:r(u)}:{op:"replace",path:v,value:r(u)})}}))}(e,n,a,i);case 5:case 1:return function(e,n,a,i){var o=e.t,s=e.D,f=e.o;if(f.length<o.length){var u=[f,o];o=u[0],f=u[1];var l=[i,a];a=l[0],i=l[1]}for(var c=0;c<o.length;c++)if(s[c]&&f[c]!==o[c]){var v=n.concat([c]);a.push({op:"replace",path:v,value:r(f[c])}),i.push({op:"replace",path:v,value:r(o[c])})}for(var h=o.length;h<f.length;h++){var d=n.concat([h]);a.push({op:t,path:d,value:r(f[h])})}o.length<f.length&&i.push({op:"replace",path:n.concat(["length"]),value:o.length})}(e,n,a,i);case 3:return function(e,r,n,a){var i=e.t,o=e.o,s=0;i.forEach((function(e){if(!o.has(e)){var i=r.concat([s]);n.push({op:"remove",path:i,value:e}),a.unshift({op:t,path:i,value:e})}s++})),s=0,o.forEach((function(e){if(!i.has(e)){var o=r.concat([s]);n.push({op:t,path:o,value:e}),a.unshift({op:"remove",path:o,value:e})}s++}))}(e,n,a,i)}},M:function(e,r,t,n){t.push({op:"replace",path:[],value:r}),n.push({op:"replace",path:[],value:e.t})}})}function U(){function e(e,r){function t(){this.constructor=e}a(e,r),e.prototype=(t.prototype=r.prototype,new t)}function r(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function t(e){e.o||(e.o=new Set,e.t.forEach((function(r){if(l(r)){var t=W(e.A.h,r,e);e.p.set(r,t),e.o.add(t)}else e.o.add(r)})))}function n(e){e.g&&f(3,JSON.stringify(w(e)))}var a=function(e,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)},i=function(){function t(e,r){return this[ae]={i:2,l:r,A:r?r.A:E(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,g:!1},this}e(t,Map);var a=t.prototype;return Object.defineProperty(a,"size",{get:function(){return w(this[ae]).size}}),a.has=function(e){return w(this[ae]).has(e)},a.set=function(e,t){var a=this[ae];return n(a),w(a).has(e)&&w(a).get(e)===t||(r(a),z(a),a.D.set(e,!0),a.o.set(e,t),a.D.set(e,!0)),this},a.delete=function(e){if(!this.has(e))return!1;var t=this[ae];return n(t),r(t),z(t),t.D.set(e,!1),t.o.delete(e),!0},a.clear=function(){var e=this[ae];n(e),w(e).size&&(r(e),z(e),e.D=new Map,v(e.t,(function(r){e.D.set(r,!1)})),e.o.clear())},a.forEach=function(e,r){var t=this;w(this[ae]).forEach((function(n,a){e.call(r,t.get(a),a,t)}))},a.get=function(e){var t=this[ae];n(t);var a=w(t).get(e);if(t.I||!l(a))return a;if(a!==t.t.get(e))return a;var i=W(t.A.h,a,t);return r(t),t.o.set(e,i),i},a.keys=function(){return w(this[ae]).keys()},a.values=function(){var e,r=this,t=this.keys();return(e={})[ie]=function(){return r.values()},e.next=function(){var e=t.next();return e.done?e:{done:!1,value:r.get(e.value)}},e},a.entries=function(){var e,r=this,t=this.keys();return(e={})[ie]=function(){return r.entries()},e.next=function(){var e=t.next();if(e.done)return e;var n=r.get(e.value);return{done:!1,value:[e.value,n]}},e},a[ie]=function(){return this.entries()},t}(),o=function(){function r(e,r){return this[ae]={i:3,l:r,A:r?r.A:E(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(r,Set);var a=r.prototype;return Object.defineProperty(a,"size",{get:function(){return w(this[ae]).size}}),a.has=function(e){var r=this[ae];return n(r),r.o?!!r.o.has(e)||!(!r.p.has(e)||!r.o.has(r.p.get(e))):r.t.has(e)},a.add=function(e){var r=this[ae];return n(r),this.has(e)||(t(r),z(r),r.o.add(e)),this},a.delete=function(e){if(!this.has(e))return!1;var r=this[ae];return n(r),t(r),z(r),r.o.delete(e)||!!r.p.has(e)&&r.o.delete(r.p.get(e))},a.clear=function(){var e=this[ae];n(e),w(e).size&&(t(e),z(e),e.o.clear())},a.values=function(){var e=this[ae];return n(e),t(e),e.o.values()},a.entries=function(){var e=this[ae];return n(e),t(e),e.o.entries()},a.keys=function(){return this.values()},a[ie]=function(){return this.values()},a.forEach=function(e,r){for(var t=this.values(),n=t.next();!n.done;)e.call(r,n.value,n.value,this),n=t.next()},r}();j("MapSet",{T:function(e,r){return new i(e,r)},F:function(e,r){return new o(e,r)}})}function $(){L(),U(),K()}function Z(e){return e}function G(e){return e}var X,H,Q="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Y="undefined"!=typeof Map,ee="undefined"!=typeof Set,re="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,te=Q?Symbol.for("immer-nothing"):((X={})["immer-nothing"]=!0,X),ne=Q?Symbol.for("immer-draftable"):"__$immer_draftable",ae=Q?Symbol.for("immer-state"):"__$immer_state",ie="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",oe={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},se="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,fe=Object.getOwnPropertyDescriptors||function(e){var r={};return se(e).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(e,t)})),r},ue={},le={get:function(e,r){if(r===ae)return e;var t=w(e);if(!d(t,r))return function(e,r,t){var n,a=q(r,t);return a?"value"in a?a.value:null===(n=a.get)||void 0===n?void 0:n.call(e.k):void 0}(e,t,r);var n=t[r];return e.I||!l(n)?n:n===I(e.t,r)?(M(e),e.o[r]=W(e.A.h,n,e)):n},has:function(e,r){return r in w(e)},ownKeys:function(e){return Reflect.ownKeys(w(e))},set:function(e,r,t){var n=q(w(e),r);if(null==n?void 0:n.set)return n.set.call(e.k,t),!0;if(!e.P){var a=I(w(e),r),i=null==a?void 0:a[ae];if(i&&i.t===t)return e.o[r]=t,e.D[r]=!1,!0;if(m(t,a)&&(void 0!==t||d(e.t,r)))return!0;M(e),z(e)}return e.o[r]=t,e.D[r]=!0,!0},deleteProperty:function(e,r){return void 0!==I(e.t,r)||r in e.t?(e.D[r]=!1,M(e),z(e)):delete e.D[r],e.o&&delete e.o[r],!0},getOwnPropertyDescriptor:function(e,r){var t=w(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n?{writable:!0,configurable:1!==e.i||"length"!==r,enumerable:n.enumerable,value:t[r]}:n},defineProperty:function(){f(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){f(12)}},ce={};v(le,(function(e,r){ce[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),ce.deleteProperty=function(e,r){return false&&false,le.deleteProperty.call(this,e[0],r)},ce.set=function(e,r,t){return false&&false,le.set.call(this,e[0],r,t,e[0])};var ve=function(){function e(e){this.O=re,this.N=!0,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var r=e.prototype;return r.produce=function(e,r,t){if("function"==typeof e&&"function"!=typeof r){var n=r;r=e;var a=this;return function(e){var t=this;void 0===e&&(e=n);for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var i;if("function"!=typeof r&&f(6),void 0!==t&&"function"!=typeof t&&f(7),l(e)){var o=N(this),s=W(this,e,void 0),u=!0;try{i=r(s),u=!1}finally{u?D(o):C(o)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return k(o,t),B(e,o)}),(function(e){throw D(o),e})):(k(o,t),B(i,o))}if(!e||"object"!=typeof e){if((i=r(e))===te)return;return void 0===i&&(i=e),this.N&&P(i,!0),i}f(21,e)},r.produceWithPatches=function(e,r){var t,n,a=this;return"function"==typeof e?function(r){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a.produceWithPatches(r,(function(r){return e.apply(void 0,[r].concat(n))}))}:[this.produce(e,r,(function(e,r){t=e,n=r})),t,n]},r.createDraft=function(e){l(e)||f(8),u(e)&&(e=J(e));var r=N(this),t=W(this,e,void 0);return t[ae].C=!0,C(r),t},r.finishDraft=function(e,r){var t=e&&e[ae];false&&false;var n=t.A;return k(n,r),B(void 0,n)},r.setAutoFreeze=function(e){this.N=e},r.setUseProxies=function(e){e&&!re&&f(20),this.O=e},r.applyPatches=function(e,r){var t;for(t=r.length-1;t>=0;t--){var n=r[t];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}var a=F("Patches").$;return u(e)?a(e,r):this.produce(e,(function(e){return a(e,r.slice(t+1))}))},e}(),he=new ve,de=he.produce,pe=he.produceWithPatches.bind(he),ge=he.setAutoFreeze.bind(he),me=he.setUseProxies.bind(he),ye=he.applyPatches.bind(he),be=he.createDraft.bind(he),we=he.finishDraft.bind(he);var Oe=de;var Pe=t(3762);var xe=t.n(Pe);t.d(r,"a",(function(){return er}));t.d(r,"b",(function(){return Xe}));t.d(r,"c",(function(){return ar}));t.d(r,"d",(function(){return sr}));t.d(r,"e",(function(){return fr}));t.d(r,"f",(function(){return gr}));t.d(r,"g",(function(){return wr}));t.d(r,"h",(function(){return Ir}));t.d(r,"i",(function(){return Be}));function Ae(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}var Fe=new WeakMap;var je=new WeakMap;var Ee=new WeakMap;var ke=new WeakMap;var De=new WeakMap;var Ce=new WeakMap;function Ne(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function _e(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){Ne(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{Ne(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var Be=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>false,isVoid:()=>false,onChange:()=>{},apply:r=>{for(var t of er.pathRefs(e)){ur.transform(t,r)}for(var n of er.pointRefs(e)){hr.transform(n,r)}for(var a of er.rangeRefs(e)){mr.transform(a,r)}var i=new Set;var o=[];var s=e=>{if(e){var r=e.join(",");if(!i.has(r)){i.add(r);o.push(e)}}};var f=Fe.get(e)||[];var u=Se(r);for(var l of f){var c=fr.transform(l,r);s(c)}for(var v of u){s(v)}Fe.set(e,o);Ir.transform(e,r);e.operations.push(r);er.normalize(e);if(r.type==="set_selection"){e.marks=null}if(!je.get(e)){je.set(e,true);Promise.resolve().then((()=>{je.set(e,false);e.onChange();e.operations=[]}))}},addMark:(r,t)=>{var{selection:n}=e;if(n){if(gr.isExpanded(n)){Ir.setNodes(e,{[r]:t},{match:wr.isText,split:true})}else{var a=_e(_e({},er.marks(e)||{}),{},{[r]:t});e.marks=a;if(!je.get(e)){e.onChange()}}}},deleteBackward:r=>{var{selection:t}=e;if(t&&gr.isCollapsed(t)){Ir.delete(e,{unit:r,reverse:true})}},deleteForward:r=>{var{selection:t}=e;if(t&&gr.isCollapsed(t)){Ir.delete(e,{unit:r})}},deleteFragment:r=>{var{selection:t}=e;if(t&&gr.isExpanded(t)){Ir.delete(e,{reverse:r==="backward"})}},getFragment:()=>{var{selection:r}=e;if(r){return ar.fragment(e,r)}return[]},insertBreak:()=>{Ir.splitNodes(e,{always:true})},insertFragment:r=>{Ir.insertFragment(e,r)},insertNode:r=>{Ir.insertNodes(e,r)},insertText:r=>{var{selection:t,marks:n}=e;if(t){if(gr.isCollapsed(t)){var a=er.above(e,{match:r=>er.isInline(e,r),mode:"highest"});if(a){var[,i]=a;if(er.isEnd(e,t.anchor,i)){var o=er.after(e,i);Ir.setSelection(e,{anchor:o,focus:o})}}}if(n){var s=_e({text:r},n);Ir.insertNodes(e,s)}else{Ir.insertText(e,r)}e.marks=null}},normalizeNode:r=>{var[t,n]=r;if(wr.isText(t)){return}if(Xe.isElement(t)&&t.children.length===0){var a={text:""};Ir.insertNodes(e,a,{at:n.concat(0),voids:true});return}var i=er.isEditor(t)?false:Xe.isElement(t)&&(e.isInline(t)||t.children.length===0||wr.isText(t.children[0])||e.isInline(t.children[0]));var o=0;for(var s=0;s<t.children.length;s++,o++){var f=ar.get(e,n);if(wr.isText(f))continue;var u=t.children[s];var l=f.children[o-1];var c=s===t.children.length-1;var v=wr.isText(u)||Xe.isElement(u)&&e.isInline(u);if(v!==i){Ir.removeNodes(e,{at:n.concat(o),voids:true});o--}else if(Xe.isElement(u)){if(e.isInline(u)){if(l==null||!wr.isText(l)){var h={text:""};Ir.insertNodes(e,h,{at:n.concat(o),voids:true});o++}else if(c){var d={text:""};Ir.insertNodes(e,d,{at:n.concat(o+1),voids:true});o++}}}else{if(l!=null&&wr.isText(l)){if(wr.equals(u,l,{loose:true})){Ir.mergeNodes(e,{at:n.concat(o),voids:true});o--}else if(l.text===""){Ir.removeNodes(e,{at:n.concat(o-1),voids:true});o--}else if(c&&u.text===""){Ir.removeNodes(e,{at:n.concat(o),voids:true});o--}}}}},removeMark:r=>{var{selection:t}=e;if(t){if(gr.isExpanded(t)){Ir.unsetNodes(e,r,{match:wr.isText,split:true})}else{var n=_e({},er.marks(e)||{});delete n[r];e.marks=n;if(!je.get(e)){e.onChange()}}}}};return e};var Se=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=e;return fr.levels(r)}case"insert_node":{var{node:t,path:n}=e;var a=fr.levels(n);var i=wr.isText(t)?[]:Array.from(ar.nodes(t),(e=>{var[,r]=e;return n.concat(r)}));return[...a,...i]}case"merge_node":{var{path:o}=e;var s=fr.ancestors(o);var f=fr.previous(o);return[...s,f]}case"move_node":{var{path:u,newPath:l}=e;if(fr.equals(u,l)){return[]}var c=[];var v=[];for(var h of fr.ancestors(u)){var d=fr.transform(h,e);c.push(d)}for(var p of fr.ancestors(l)){var g=fr.transform(p,e);v.push(g)}var m=v[v.length-1];var y=l[l.length-1];var b=m.concat(y);return[...c,...v,b]}case"remove_node":{var{path:w}=e;var O=fr.ancestors(w);return[...O]}case"split_node":{var{path:P}=e;var x=fr.levels(P);var A=fr.next(P);return[...x,A]}default:{return[]}}};function Re(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var a,i;for(i=0;i<n.length;i++){a=n[i];if(r.indexOf(a)>=0)continue;t[a]=e[a]}return t}function Te(e,r){if(e==null)return{};var t=Re(e,r);var n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++){n=i[a];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}var Ie=/\s/;var qe=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var ze=/['\u2018\u2019]/;var Me=55296;var We=57343;var Je=8205;var Ve=e=>{var r=0;var t=null;var n=e.charCodeAt(0);while(n){if(Ue(n)){var a=$e(n,e,r);if(t==="SURR"||t==="BMP"){break}r+=2;t=a?"MOD":"SURR";n=e.charCodeAt(r);continue}if(n===Je){r+=1;t="ZWJ";n=e.charCodeAt(r);continue}if(Ge(n)){if(t&&t!=="ZWJ"&&t!=="VAR"){break}r+=1;t="BMP";n=e.charCodeAt(r);continue}if(Ze(n)){if(t&&t!=="ZWJ"){break}r+=1;t="VAR";n=e.charCodeAt(r);continue}if(t==="MOD"){r+=1;break}break}return r||1};var Le=e=>{var r=0;var t=0;var n=false;var a;while(a=e.charAt(t)){var i=Ve(a);a=e.slice(t,t+i);var o=e.slice(t+i);if(Ke(a,o)){n=true;r+=i}else if(!n){r+=i}else{break}t+=i}return r};var Ke=(e,r)=>{if(Ie.test(e)){return false}if(ze.test(e)){var t=r.charAt(0);var n=Ve(t);t=r.slice(0,n);var a=r.slice(n);if(Ke(t,a)){return true}}if(qe.test(e)){return false}return true};var Ue=e=>Me<=e&&e<=We;var $e=(e,r,t)=>{if(e===55356){var n=r.charCodeAt(t+1);return n<=57343&&n>=57339}return false};var Ze=e=>e<=65039&&e>=65024;var Ge=e=>e===10084||e===9794||e===9792||e===9760||e===9877||e===9992||e===9711;var Xe={isAncestor(e){return o(e)&&ar.isNodeList(e.children)},isElement(e){return o(e)&&ar.isNodeList(e.children)&&!er.isEditor(e)},isElementList(e){return Array.isArray(e)&&e.every((e=>Xe.isElement(e)))},isElementProps(e){return e.children!==undefined},matches(e,r){for(var t in r){if(t==="children"){continue}if(e[t]!==r[t]){return false}}return true}};function He(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function Qe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){He(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{He(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var Ye=new WeakMap;var er={above(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{voids:t=false,mode:n="lowest",at:a=e.selection,match:i}=r;if(!a){return}var o=er.path(e,a);var s=n==="lowest";for(var[f,u]of er.levels(e,{at:o,voids:t,match:i,reverse:s})){if(!wr.isText(f)&&!fr.equals(o,u)){return[f,u]}}},addMark(e,r,t){e.addMark(r,t)},after(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=er.point(e,r,{edge:"end"});var a=er.end(e,[]);var i={anchor:n,focus:a};var{distance:o=1}=t;var s=0;var f;for(var u of er.positions(e,Qe(Qe({},t),{},{at:i}))){if(s>o){break}if(s!==0){f=u}s++}return f},before(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=er.start(e,[]);var a=er.point(e,r,{edge:"start"});var i={anchor:n,focus:a};var{distance:o=1}=t;var s=0;var f;for(var u of er.positions(e,Qe(Qe({},t),{},{at:i,reverse:true}))){if(s>o){break}if(s!==0){f=u}s++}return f},deleteBackward(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{unit:t="character"}=r;e.deleteBackward(t)},deleteForward(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{unit:t="character"}=r;e.deleteForward(t)},deleteFragment(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{direction:t="forward"}=r;e.deleteFragment(t)},edges(e,r){return[er.start(e,r),er.end(e,r)]},end(e,r){return er.point(e,r,{edge:"end"})},first(e,r){var t=er.path(e,r,{edge:"start"});return er.node(e,t)},fragment(e,r){var t=er.range(e,r);var n=ar.fragment(e,t);return n},hasBlocks(e,r){return r.children.some((r=>er.isBlock(e,r)))},hasInlines(e,r){return r.children.some((r=>wr.isText(r)||er.isInline(e,r)))},hasTexts(e,r){return r.children.every((e=>wr.isText(e)))},insertBreak(e){e.insertBreak()},insertFragment(e,r){e.insertFragment(r)},insertNode(e,r){e.insertNode(r)},insertText(e,r){e.insertText(r)},isBlock(e,r){return Xe.isElement(r)&&!e.isInline(r)},isEditor(e){if(!o(e))return false;var r=Ye.get(e);if(r!==undefined){return r}var t=typeof e.addMark==="function"&&typeof e.apply==="function"&&typeof e.deleteBackward==="function"&&typeof e.deleteForward==="function"&&typeof e.deleteFragment==="function"&&typeof e.insertBreak==="function"&&typeof e.insertFragment==="function"&&typeof e.insertNode==="function"&&typeof e.insertText==="function"&&typeof e.isInline==="function"&&typeof e.isVoid==="function"&&typeof e.normalizeNode==="function"&&typeof e.onChange==="function"&&typeof e.removeMark==="function"&&(e.marks===null||o(e.marks))&&(e.selection===null||gr.isRange(e.selection))&&ar.isNodeList(e.children)&&sr.isOperationList(e.operations);Ye.set(e,t);return t},isEnd(e,r,t){var n=er.end(e,t);return vr.equals(r,n)},isEdge(e,r,t){return er.isStart(e,r,t)||er.isEnd(e,r,t)},isEmpty(e,r){var{children:t}=r;var[n]=t;return t.length===0||t.length===1&&wr.isText(n)&&n.text===""&&!e.isVoid(r)},isInline(e,r){return Xe.isElement(r)&&e.isInline(r)},isNormalizing(e){var r=Ee.get(e);return r===undefined?true:r},isStart(e,r,t){if(r.offset!==0){return false}var n=er.start(e,t);return vr.equals(r,n)},isVoid(e,r){return Xe.isElement(r)&&e.isVoid(r)},last(e,r){var t=er.path(e,r,{edge:"end"});return er.node(e,t)},leaf(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=er.path(e,r,t);var a=ar.leaf(e,n);return[a,n]},*levels(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{at:t=e.selection,reverse:n=false,voids:a=false}=r;var{match:i}=r;if(i==null){i=()=>true}if(!t){return}var o=[];var s=er.path(e,t);for(var[f,u]of ar.levels(e,s)){if(!i(f,u)){continue}o.push([f,u]);if(!a&&er.isVoid(e,f)){break}}if(n){o.reverse()}yield*o},marks(e){var{marks:r,selection:t}=e;if(!t){return null}if(r){return r}if(gr.isExpanded(t)){var[n]=er.nodes(e,{match:wr.isText});if(n){var[a]=n;var i=Te(a,["text"]);return i}else{return{}}}var{anchor:o}=t;var{path:s}=o;var[f]=er.leaf(e,s);if(o.offset===0){var u=er.previous(e,{at:s,match:wr.isText});var l=er.above(e,{match:r=>er.isBlock(e,r)});if(u&&l){var[c,v]=u;var[,h]=l;if(fr.isAncestor(h,v)){f=c}}}var d=Te(f,["text"]);return d},next(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{mode:t="lowest",voids:n=false}=r;var{match:a,at:i=e.selection}=r;if(!i){return}var o=er.after(e,i,{voids:n});if(!o)return;var[,s]=er.last(e,[]);var f=[o.path,s];if(fr.isPath(i)&&i.length===0){throw new Error("Cannot get the next node from the root node!")}if(a==null){if(fr.isPath(i)){var[u]=er.parent(e,i);a=e=>u.children.includes(e)}else{a=()=>true}}var[l]=er.nodes(e,{at:f,match:a,mode:t,voids:n});return l},node(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=er.path(e,r,t);var a=ar.get(e,n);return[a,n]},*nodes(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{at:t=e.selection,mode:n="all",universal:a=false,reverse:i=false,voids:o=false}=r;var{match:s}=r;if(!s){s=()=>true}if(!t){return}var f;var u;if(tr.isSpan(t)){f=t[0];u=t[1]}else{var l=er.path(e,t,{edge:"start"});var c=er.path(e,t,{edge:"end"});f=i?c:l;u=i?l:c}var v=ar.nodes(e,{reverse:i,from:f,to:u,pass:r=>{var[t]=r;return o?false:er.isVoid(e,t)}});var h=[];var d;for(var[p,g]of v){var m=d&&fr.compare(g,d[1])===0;if(n==="highest"&&m){continue}if(!s(p,g)){if(a&&!m&&wr.isText(p)){return}else{continue}}if(n==="lowest"&&m){d=[p,g];continue}var y=n==="lowest"?d:[p,g];if(y){if(a){h.push(y)}else{yield y}}d=[p,g]}if(n==="lowest"&&d){if(a){h.push(d)}else{yield d}}if(a){yield*h}},normalize(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{force:t=false}=r;var n=e=>Fe.get(e)||[];if(!er.isNormalizing(e)){return}if(t){var a=Array.from(ar.nodes(e),(e=>{var[,r]=e;return r}));Fe.set(e,a)}if(n(e).length===0){return}er.withoutNormalizing(e,(()=>{for(var r of n(e)){if(ar.has(e,r)){var[t,a]=er.node(e,r);if(Xe.isElement(t)&&t.children.length===0){var i={text:""};Ir.insertNodes(e,i,{at:r.concat(0),voids:true})}}}var o=n(e).length*42;var s=0;while(n(e).length!==0){if(s>o){throw new Error("\n            Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "))}var f=n(e).pop();if(ar.has(e,f)){var u=er.node(e,f);e.normalizeNode(u)}s++}}))},parent(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=er.path(e,r,t);var a=fr.parent(n);var i=er.node(e,a);return i},path(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{depth:n,edge:a}=t;if(fr.isPath(r)){if(a==="start"){var[,i]=ar.first(e,r);r=i}else if(a==="end"){var[,o]=ar.last(e,r);r=o}}if(gr.isRange(r)){if(a==="start"){r=gr.start(r)}else if(a==="end"){r=gr.end(r)}else{r=fr.common(r.anchor.path,r.focus.path)}}if(vr.isPoint(r)){r=r.path}if(n!=null){r=r.slice(0,n)}return r},hasPath(e,r){return ar.has(e,r)},pathRef(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{affinity:n="forward"}=t;var a={current:r,affinity:n,unref(){var{current:r}=a;var t=er.pathRefs(e);t.delete(a);a.current=null;return r}};var i=er.pathRefs(e);i.add(a);return a},pathRefs(e){var r=ke.get(e);if(!r){r=new Set;ke.set(e,r)}return r},point(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{edge:n="start"}=t;if(fr.isPath(r)){var a;if(n==="end"){var[,i]=ar.last(e,r);a=i}else{var[,o]=ar.first(e,r);a=o}var s=ar.get(e,a);if(!wr.isText(s)){throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(r,"] because it has no ").concat(n," text node."))}return{path:a,offset:n==="end"?s.text.length:0}}if(gr.isRange(r)){var[f,u]=gr.edges(r);return n==="start"?f:u}return r},pointRef(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{affinity:n="forward"}=t;var a={current:r,affinity:n,unref(){var{current:r}=a;var t=er.pointRefs(e);t.delete(a);a.current=null;return r}};var i=er.pointRefs(e);i.add(a);return a},pointRefs(e){var r=De.get(e);if(!r){r=new Set;De.set(e,r)}return r},*positions(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{at:t=e.selection,unit:n="offset",reverse:a=false,voids:i=false}=r;if(!t){return}var o=er.range(e,t);var[f,u]=gr.edges(o);var l=a?u:f;var c=false;var v="";var h=0;var d=0;var p=0;for(var[g,m]of er.nodes(e,{at:t,reverse:a,voids:i})){if(Xe.isElement(g)){if(!i&&e.isVoid(g)){yield er.start(e,m);continue}if(e.isInline(g))continue;if(er.hasInlines(e,g)){var y=fr.isAncestor(m,u.path)?u:er.end(e,m);var b=fr.isAncestor(m,f.path)?f:er.start(e,m);v=er.string(e,{anchor:b,focus:y},{voids:i});v=a?Object(s["reverse"])(v):v;c=true}}if(wr.isText(g)){var w=fr.equals(m,l.path);if(w){d=a?l.offset:g.text.length-l.offset;p=l.offset}else{d=g.text.length;p=a?d:0}if(w||c||n==="offset"){yield{path:m,offset:p};c=false}while(true){if(h===0){if(v==="")break;h=O(v,n);v=v.slice(h)}p=a?p-h:p+h;d=d-h;if(d<0){h=-d;break}h=0;yield{path:m,offset:p}}}}function O(e,r){if(r==="character"){return Ve(e)}else if(r==="word"){return Le(e)}else if(r==="line"||r==="block"){return e.length}return 1}},previous(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{mode:t="lowest",voids:n=false}=r;var{match:a,at:i=e.selection}=r;if(!i){return}var o=er.before(e,i,{voids:n});if(!o){return}var[,s]=er.first(e,[]);var f=[o.path,s];if(fr.isPath(i)&&i.length===0){throw new Error("Cannot get the previous node from the root node!")}if(a==null){if(fr.isPath(i)){var[u]=er.parent(e,i);a=e=>u.children.includes(e)}else{a=()=>true}}var[l]=er.nodes(e,{reverse:true,at:f,match:a,mode:t,voids:n});return l},range(e,r,t){if(gr.isRange(r)&&!t){return r}var n=er.start(e,r);var a=er.end(e,t||r);return{anchor:n,focus:a}},rangeRef(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{affinity:n="forward"}=t;var a={current:r,affinity:n,unref(){var{current:r}=a;var t=er.rangeRefs(e);t.delete(a);a.current=null;return r}};var i=er.rangeRefs(e);i.add(a);return a},rangeRefs(e){var r=Ce.get(e);if(!r){r=new Set;Ce.set(e,r)}return r},removeMark(e,r){e.removeMark(r)},start(e,r){return er.point(e,r,{edge:"start"})},string(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{voids:n=false}=t;var a=er.range(e,r);var[i,o]=gr.edges(a);var s="";for(var[f,u]of er.nodes(e,{at:a,match:wr.isText,voids:n})){var l=f.text;if(fr.equals(u,o.path)){l=l.slice(0,o.offset)}if(fr.equals(u,i.path)){l=l.slice(i.offset)}s+=l}return s},unhangRange(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{voids:n=false}=t;var[a,i]=gr.edges(r);if(a.offset!==0||i.offset!==0||gr.isCollapsed(r)){return r}var o=er.above(e,{at:i,match:r=>er.isBlock(e,r)});var s=o?o[1]:[];var f=er.start(e,[]);var u={anchor:f,focus:i};var l=true;for(var[c,v]of er.nodes(e,{at:u,match:wr.isText,reverse:true,voids:n})){if(l){l=false;continue}if(c.text!==""||fr.isBefore(v,s)){i={path:v,offset:c.text.length};break}}return{anchor:a,focus:i}},void(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return er.above(e,Qe(Qe({},r),{},{match:r=>er.isVoid(e,r)}))},withoutNormalizing(e,r){var t=er.isNormalizing(e);Ee.set(e,false);try{r()}finally{Ee.set(e,t)}er.normalize(e)}};var rr={isLocation(e){return fr.isPath(e)||vr.isPoint(e)||gr.isRange(e)}};var tr={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(fr.isPath)}};var nr=new WeakMap;var ar={ancestor(e,r){var t=ar.get(e,r);if(wr.isText(t)){throw new Error("Cannot get the ancestor node at path [".concat(r,"] because it refers to a text node instead: ").concat(t))}return t},*ancestors(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};for(var n of fr.ancestors(r,t)){var a=ar.ancestor(e,n);var i=[a,n];yield i}},child(e,r){if(wr.isText(e)){throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)))}var t=e.children[r];if(t==null){throw new Error("Cannot get child at index `".concat(r,"` in node: ").concat(JSON.stringify(e)))}return t},*children(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{reverse:n=false}=t;var a=ar.ancestor(e,r);var{children:i}=a;var o=n?i.length-1:0;while(n?o>=0:o<i.length){var s=ar.child(a,o);var f=r.concat(o);yield[s,f];o=n?o-1:o+1}},common(e,r,t){var n=fr.common(r,t);var a=ar.get(e,n);return[a,n]},descendant(e,r){var t=ar.get(e,r);if(er.isEditor(t)){throw new Error("Cannot get the descendant node at path [".concat(r,"] because it refers to the root editor node instead: ").concat(t))}return t},*descendants(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};for(var[t,n]of ar.nodes(e,r)){if(n.length!==0){yield[t,n]}}},*elements(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};for(var[t,n]of ar.nodes(e,r)){if(Xe.isElement(t)){yield[t,n]}}},extractProps(e){if(Xe.isAncestor(e)){var r=Te(e,["children"]);return r}else{var r=Te(e,["text"]);return r}},first(e,r){var t=r.slice();var n=ar.get(e,t);while(n){if(wr.isText(n)||n.children.length===0){break}else{n=n.children[0];t.push(0)}}return[n,t]},fragment(e,r){if(wr.isText(e)){throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)))}var t=de({children:e.children},(e=>{var[t,n]=gr.edges(r);var a=ar.nodes(e,{reverse:true,pass:e=>{var[,t]=e;return!gr.includes(r,t)}});for(var[,i]of a){if(!gr.includes(r,i)){var o=ar.parent(e,i);var s=i[i.length-1];o.children.splice(s,1)}if(fr.equals(i,n.path)){var f=ar.leaf(e,i);f.text=f.text.slice(0,n.offset)}if(fr.equals(i,t.path)){var u=ar.leaf(e,i);u.text=u.text.slice(t.offset)}}if(er.isEditor(e)){e.selection=null}}));return t.children},get(e,r){var t=e;for(var n=0;n<r.length;n++){var a=r[n];if(wr.isText(t)||!t.children[a]){throw new Error("Cannot find a descendant at path [".concat(r,"] in node: ").concat(JSON.stringify(e)))}t=t.children[a]}return t},has(e,r){var t=e;for(var n=0;n<r.length;n++){var a=r[n];if(wr.isText(t)||!t.children[a]){return false}t=t.children[a]}return true},isNode(e){return wr.isText(e)||Xe.isElement(e)||er.isEditor(e)},isNodeList(e){if(!Array.isArray(e)){return false}var r=nr.get(e);if(r!==undefined){return r}var t=e.every((e=>ar.isNode(e)));nr.set(e,t);return t},last(e,r){var t=r.slice();var n=ar.get(e,t);while(n){if(wr.isText(n)||n.children.length===0){break}else{var a=n.children.length-1;n=n.children[a];t.push(a)}}return[n,t]},leaf(e,r){var t=ar.get(e,r);if(!wr.isText(t)){throw new Error("Cannot get the leaf node at path [".concat(r,"] because it refers to a non-leaf node: ").concat(t))}return t},*levels(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};for(var n of fr.levels(r,t)){var a=ar.get(e,n);yield[a,n]}},matches(e,r){return Xe.isElement(e)&&Xe.isElementProps(r)&&Xe.matches(e,r)||wr.isText(e)&&wr.isTextProps(r)&&wr.matches(e,r)},*nodes(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{pass:t,reverse:n=false}=r;var{from:a=[],to:i}=r;var o=new Set;var s=[];var f=e;while(true){if(i&&(n?fr.isBefore(s,i):fr.isAfter(s,i))){break}if(!o.has(f)){yield[f,s]}if(!o.has(f)&&!wr.isText(f)&&f.children.length!==0&&(t==null||t([f,s])===false)){o.add(f);var u=n?f.children.length-1:0;if(fr.isAncestor(s,a)){u=a[s.length]}s=s.concat(u);f=ar.get(e,s);continue}if(s.length===0){break}if(!n){var l=fr.next(s);if(ar.has(e,l)){s=l;f=ar.get(e,s);continue}}if(n&&s[s.length-1]!==0){var c=fr.previous(s);s=c;f=ar.get(e,s);continue}s=fr.parent(s);f=ar.get(e,s);o.add(f)}},parent(e,r){var t=fr.parent(r);var n=ar.get(e,t);if(wr.isText(n)){throw new Error("Cannot get the parent of path [".concat(r,"] because it does not exist in the root."))}return n},string(e){if(wr.isText(e)){return e.text}else{return e.children.map(ar.string).join("")}},*texts(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};for(var[t,n]of ar.nodes(e,r)){if(wr.isText(t)){yield[t,n]}}}};function ir(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function or(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){ir(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{ir(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var sr={isNodeOperation(e){return sr.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!o(e)){return false}switch(e.type){case"insert_node":return fr.isPath(e.path)&&ar.isNode(e.node);case"insert_text":return typeof e.offset==="number"&&typeof e.text==="string"&&fr.isPath(e.path);case"merge_node":return typeof e.position==="number"&&fr.isPath(e.path)&&o(e.properties);case"move_node":return fr.isPath(e.path)&&fr.isPath(e.newPath);case"remove_node":return fr.isPath(e.path)&&ar.isNode(e.node);case"remove_text":return typeof e.offset==="number"&&typeof e.text==="string"&&fr.isPath(e.path);case"set_node":return fr.isPath(e.path)&&o(e.properties)&&o(e.newProperties);case"set_selection":return e.properties===null&&gr.isRange(e.newProperties)||e.newProperties===null&&gr.isRange(e.properties)||o(e.properties)&&o(e.newProperties);case"split_node":return fr.isPath(e.path)&&typeof e.position==="number"&&o(e.properties);default:return false}},isOperationList(e){return Array.isArray(e)&&e.every((e=>sr.isOperation(e)))},isSelectionOperation(e){return sr.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return sr.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":{return or(or({},e),{},{type:"remove_node"})}case"insert_text":{return or(or({},e),{},{type:"remove_text"})}case"merge_node":{return or(or({},e),{},{type:"split_node",path:fr.previous(e.path)})}case"move_node":{var{newPath:r,path:t}=e;if(fr.equals(r,t)){return e}if(fr.isSibling(t,r)){return or(or({},e),{},{path:r,newPath:t})}var n=fr.transform(t,e);var a=fr.transform(fr.next(t),e);return or(or({},e),{},{path:n,newPath:a})}case"remove_node":{return or(or({},e),{},{type:"insert_node"})}case"remove_text":{return or(or({},e),{},{type:"insert_text"})}case"set_node":{var{properties:i,newProperties:o}=e;return or(or({},e),{},{properties:o,newProperties:i})}case"set_selection":{var{properties:s,newProperties:f}=e;if(s==null){return or(or({},e),{},{properties:f,newProperties:null})}else if(f==null){return or(or({},e),{},{properties:null,newProperties:s})}else{return or(or({},e),{},{properties:f,newProperties:s})}}case"split_node":{return or(or({},e),{},{type:"merge_node",path:fr.next(e.path)})}}}};var fr={ancestors(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{reverse:t=false}=r;var n=fr.levels(e,r);if(t){n=n.slice(1)}else{n=n.slice(0,-1)}return n},common(e,r){var t=[];for(var n=0;n<e.length&&n<r.length;n++){var a=e[n];var i=r[n];if(a!==i){break}t.push(a)}return t},compare(e,r){var t=Math.min(e.length,r.length);for(var n=0;n<t;n++){if(e[n]<r[n])return-1;if(e[n]>r[n])return 1}return 0},endsAfter(e,r){var t=e.length-1;var n=e.slice(0,t);var a=r.slice(0,t);var i=e[t];var o=r[t];return fr.equals(n,a)&&i>o},endsAt(e,r){var t=e.length;var n=e.slice(0,t);var a=r.slice(0,t);return fr.equals(n,a)},endsBefore(e,r){var t=e.length-1;var n=e.slice(0,t);var a=r.slice(0,t);var i=e[t];var o=r[t];return fr.equals(n,a)&&i<o},equals(e,r){return e.length===r.length&&e.every(((e,t)=>e===r[t]))},hasPrevious(e){return e[e.length-1]>0},isAfter(e,r){return fr.compare(e,r)===1},isAncestor(e,r){return e.length<r.length&&fr.compare(e,r)===0},isBefore(e,r){return fr.compare(e,r)===-1},isChild(e,r){return e.length===r.length+1&&fr.compare(e,r)===0},isCommon(e,r){return e.length<=r.length&&fr.compare(e,r)===0},isDescendant(e,r){return e.length>r.length&&fr.compare(e,r)===0},isParent(e,r){return e.length+1===r.length&&fr.compare(e,r)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]==="number")},isSibling(e,r){if(e.length!==r.length){return false}var t=e.slice(0,-1);var n=r.slice(0,-1);var a=e[e.length-1];var i=r[r.length-1];return a!==i&&fr.equals(t,n)},levels(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{reverse:t=false}=r;var n=[];for(var a=0;a<=e.length;a++){n.push(e.slice(0,a))}if(t){n.reverse()}return n},next(e){if(e.length===0){throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."))}var r=e[e.length-1];return e.slice(0,-1).concat(r+1)},parent(e){if(e.length===0){throw new Error("Cannot get the parent path of the root path [".concat(e,"]."))}return e.slice(0,-1)},previous(e){if(e.length===0){throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."))}var r=e[e.length-1];if(r<=0){throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."))}return e.slice(0,-1).concat(r-1)},relative(e,r){if(!fr.isAncestor(r,e)&&!fr.equals(e,r)){throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(r,"], because it is not above or equal to the path."))}return e.slice(r.length)},transform(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return de(e,(n=>{var{affinity:a="forward"}=t;if(e.length===0){return}switch(r.type){case"insert_node":{var{path:i}=r;if(fr.equals(i,n)||fr.endsBefore(i,n)||fr.isAncestor(i,n)){n[i.length-1]+=1}break}case"remove_node":{var{path:o}=r;if(fr.equals(o,n)||fr.isAncestor(o,n)){return null}else if(fr.endsBefore(o,n)){n[o.length-1]-=1}break}case"merge_node":{var{path:s,position:f}=r;if(fr.equals(s,n)||fr.endsBefore(s,n)){n[s.length-1]-=1}else if(fr.isAncestor(s,n)){n[s.length-1]-=1;n[s.length]+=f}break}case"split_node":{var{path:u,position:l}=r;if(fr.equals(u,n)){if(a==="forward"){n[n.length-1]+=1}else if(a==="backward");else{return null}}else if(fr.endsBefore(u,n)){n[u.length-1]+=1}else if(fr.isAncestor(u,n)&&e[u.length]>=l){n[u.length-1]+=1;n[u.length]-=l}break}case"move_node":{var{path:c,newPath:v}=r;if(fr.equals(c,v)){return}if(fr.isAncestor(c,n)||fr.equals(c,n)){var h=v.slice();if(fr.endsBefore(c,v)&&c.length<v.length){h[c.length-1]-=1}return h.concat(n.slice(c.length))}else if(fr.isSibling(c,v)&&(fr.isAncestor(v,n)||fr.equals(v,n))){if(fr.endsBefore(c,n)){n[c.length-1]-=1}else{n[c.length-1]+=1}}else if(fr.endsBefore(v,n)||fr.equals(v,n)||fr.isAncestor(v,n)){if(fr.endsBefore(c,n)){n[c.length-1]-=1}n[v.length-1]+=1}else if(fr.endsBefore(c,n)){if(fr.equals(v,n)){n[v.length-1]+=1}n[c.length-1]-=1}break}}}))}};var ur={transform(e,r){var{current:t,affinity:n}=e;if(t==null){return}var a=fr.transform(t,r,{affinity:n});e.current=a;if(a==null){e.unref()}}};function lr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function cr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){lr(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{lr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var vr={compare(e,r){var t=fr.compare(e.path,r.path);if(t===0){if(e.offset<r.offset)return-1;if(e.offset>r.offset)return 1;return 0}return t},isAfter(e,r){return vr.compare(e,r)===1},isBefore(e,r){return vr.compare(e,r)===-1},equals(e,r){return e.offset===r.offset&&fr.equals(e.path,r.path)},isPoint(e){return o(e)&&typeof e.offset==="number"&&fr.isPath(e.path)},transform(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return de(e,(e=>{var{affinity:n="forward"}=t;var{path:a,offset:i}=e;switch(r.type){case"insert_node":case"move_node":{e.path=fr.transform(a,r,t);break}case"insert_text":{if(fr.equals(r.path,a)&&r.offset<=i){e.offset+=r.text.length}break}case"merge_node":{if(fr.equals(r.path,a)){e.offset+=r.position}e.path=fr.transform(a,r,t);break}case"remove_text":{if(fr.equals(r.path,a)&&r.offset<=i){e.offset-=Math.min(i-r.offset,r.text.length)}break}case"remove_node":{if(fr.equals(r.path,a)||fr.isAncestor(r.path,a)){return null}e.path=fr.transform(a,r,t);break}case"split_node":{if(fr.equals(r.path,a)){if(r.position===i&&n==null){return null}else if(r.position<i||r.position===i&&n==="forward"){e.offset-=r.position;e.path=fr.transform(a,r,cr(cr({},t),{},{affinity:"forward"}))}}else{e.path=fr.transform(a,r,t)}break}}}))}};var hr={transform(e,r){var{current:t,affinity:n}=e;if(t==null){return}var a=vr.transform(t,r,{affinity:n});e.current=a;if(a==null){e.unref()}}};function dr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function pr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){dr(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{dr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var gr={edges(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{reverse:t=false}=r;var{anchor:n,focus:a}=e;return gr.isBackward(e)===t?[n,a]:[a,n]},end(e){var[,r]=gr.edges(e);return r},equals(e,r){return vr.equals(e.anchor,r.anchor)&&vr.equals(e.focus,r.focus)},includes(e,r){if(gr.isRange(r)){if(gr.includes(e,r.anchor)||gr.includes(e,r.focus)){return true}var[t,n]=gr.edges(e);var[a,i]=gr.edges(r);return vr.isBefore(t,a)&&vr.isAfter(n,i)}var[o,s]=gr.edges(e);var f=false;var u=false;if(vr.isPoint(r)){f=vr.compare(r,o)>=0;u=vr.compare(r,s)<=0}else{f=fr.compare(r,o.path)>=0;u=fr.compare(r,s.path)<=0}return f&&u},intersection(e,r){var t=Te(e,["anchor","focus"]);var[n,a]=gr.edges(e);var[i,o]=gr.edges(r);var s=vr.isBefore(n,i)?i:n;var f=vr.isBefore(a,o)?a:o;if(vr.isBefore(f,s)){return null}else{return pr({anchor:s,focus:f},t)}},isBackward(e){var{anchor:r,focus:t}=e;return vr.isAfter(r,t)},isCollapsed(e){var{anchor:r,focus:t}=e;return vr.equals(r,t)},isExpanded(e){return!gr.isCollapsed(e)},isForward(e){return!gr.isBackward(e)},isRange(e){return o(e)&&vr.isPoint(e.anchor)&&vr.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"];yield[e.focus,"focus"]},start(e){var[r]=gr.edges(e);return r},transform(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{affinity:n="inward"}=t;var a;var i;if(n==="inward"){if(gr.isForward(e)){a="forward";i="backward"}else{a="backward";i="forward"}}else if(n==="outward"){if(gr.isForward(e)){a="backward";i="forward"}else{a="forward";i="backward"}}else{a=n;i=n}return de(e,(e=>{var t=vr.transform(e.anchor,r,{affinity:a});var n=vr.transform(e.focus,r,{affinity:i});if(!t||!n){return null}e.anchor=t;e.focus=n}))}};var mr={transform(e,r){var{current:t,affinity:n}=e;if(t==null){return}var a=gr.transform(t,r,{affinity:n});e.current=a;if(a==null){e.unref()}}};function yr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function br(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){yr(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{yr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var wr={equals(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{loose:n=false}=t;function a(e){var r=Te(e,["text"]);return r}return xe()(n?a(e):e,n?a(r):r)},isText(e){return o(e)&&typeof e.text==="string"},isTextList(e){return Array.isArray(e)&&e.every((e=>wr.isText(e)))},isTextProps(e){return e.text!==undefined},matches(e,r){for(var t in r){if(t==="text"){continue}if(!e.hasOwnProperty(t)||e[t]!==r[t]){return false}}return true},decorations(e,r){var t=[br({},e)];for(var n of r){var a=Te(n,["anchor","focus"]);var[i,o]=gr.edges(n);var s=[];var f=0;for(var u of t){var{length:l}=u.text;var c=f;f+=l;if(i.offset<=c&&o.offset>=f){Object.assign(u,a);s.push(u);continue}if(i.offset!==o.offset&&(i.offset===f||o.offset===c)||i.offset>f||o.offset<c||o.offset===c&&c!==0){s.push(u);continue}var v=u;var h=void 0;var d=void 0;if(o.offset<f){var p=o.offset-c;d=br(br({},v),{},{text:v.text.slice(p)});v=br(br({},v),{},{text:v.text.slice(0,p)})}if(i.offset>c){var g=i.offset-c;h=br(br({},v),{},{text:v.text.slice(0,g)});v=br(br({},v),{},{text:v.text.slice(g)})}Object.assign(v,a);if(h){s.push(h)}s.push(v);if(d){s.push(d)}}t=s}return t}};function Or(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function Pr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){Or(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{Or(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var xr=(e,r,t)=>{switch(t.type){case"insert_node":{var{path:n,node:a}=t;var i=ar.parent(e,n);var o=n[n.length-1];if(o>i.children.length){throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."))}i.children.splice(o,0,a);if(r){for(var[s,f]of gr.points(r)){r[f]=vr.transform(s,t)}}break}case"insert_text":{var{path:u,offset:l,text:c}=t;if(c.length===0)break;var v=ar.leaf(e,u);var h=v.text.slice(0,l);var d=v.text.slice(l);v.text=h+c+d;if(r){for(var[p,g]of gr.points(r)){r[g]=vr.transform(p,t)}}break}case"merge_node":{var{path:m}=t;var y=ar.get(e,m);var b=fr.previous(m);var w=ar.get(e,b);var O=ar.parent(e,m);var P=m[m.length-1];if(wr.isText(y)&&wr.isText(w)){w.text+=y.text}else if(!wr.isText(y)&&!wr.isText(w)){w.children.push(...y.children)}else{throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(y," ").concat(w))}O.children.splice(P,1);if(r){for(var[x,A]of gr.points(r)){r[A]=vr.transform(x,t)}}break}case"move_node":{var{path:F,newPath:j}=t;if(fr.isAncestor(F,j)){throw new Error("Cannot move a path [".concat(F,"] to new path [").concat(j,"] because the destination is inside itself."))}var E=ar.get(e,F);var k=ar.parent(e,F);var D=F[F.length-1];k.children.splice(D,1);var C=fr.transform(F,t);var N=ar.get(e,fr.parent(C));var _=C[C.length-1];N.children.splice(_,0,E);if(r){for(var[B,S]of gr.points(r)){r[S]=vr.transform(B,t)}}break}case"remove_node":{var{path:R}=t;var T=R[R.length-1];var I=ar.parent(e,R);I.children.splice(T,1);if(r){for(var[q,z]of gr.points(r)){var M=vr.transform(q,t);if(r!=null&&M!=null){r[z]=M}else{var W=void 0;var J=void 0;for(var[V,L]of ar.texts(e)){if(fr.compare(L,R)===-1){W=[V,L]}else{J=[V,L];break}}if(W){q.path=W[1];q.offset=W[0].text.length}else if(J){q.path=J[1];q.offset=0}else{r=null}}}}break}case"remove_text":{var{path:K,offset:U,text:$}=t;if($.length===0)break;var Z=ar.leaf(e,K);var G=Z.text.slice(0,U);var X=Z.text.slice(U+$.length);Z.text=G+X;if(r){for(var[H,Q]of gr.points(r)){r[Q]=vr.transform(H,t)}}break}case"set_node":{var{path:Y,properties:ee,newProperties:re}=t;if(Y.length===0){throw new Error("Cannot set properties on the root node!")}var te=ar.get(e,Y);for(var ne in re){if(ne==="children"||ne==="text"){throw new Error('Cannot set the "'.concat(ne,'" property of nodes!'))}var ae=re[ne];if(ae==null){delete te[ne]}else{te[ne]=ae}}for(var ie in ee){if(!re.hasOwnProperty(ie)){delete te[ie]}}break}case"set_selection":{var{newProperties:oe}=t;if(oe==null){r=oe}else{if(r==null){if(!gr.isRange(oe)){throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(oe)," when there is no current selection."))}r=Pr({},oe)}for(var se in oe){var fe=oe[se];if(fe==null){if(se==="anchor"||se==="focus"){throw new Error('Cannot remove the "'.concat(se,'" selection property'))}delete r[se]}else{r[se]=fe}}}break}case"split_node":{var{path:ue,position:le,properties:ce}=t;if(ue.length===0){throw new Error('Cannot apply a "split_node" operation at path ['.concat(ue,"] because the root node cannot be split."))}var ve=ar.get(e,ue);var he=ar.parent(e,ue);var de=ue[ue.length-1];var pe;if(wr.isText(ve)){var ge=ve.text.slice(0,le);var me=ve.text.slice(le);ve.text=ge;pe=Pr(Pr({},ce),{},{text:me})}else{var ye=ve.children.slice(0,le);var be=ve.children.slice(le);ve.children=ye;pe=Pr(Pr({},ce),{},{children:be})}he.children.splice(de+1,0,pe);if(r){for(var[we,Oe]of gr.points(r)){r[Oe]=vr.transform(we,t)}}break}}return r};var Ar={transform(e,r){e.children=be(e.children);var t=e.selection&&be(e.selection);try{t=xr(e,t,r)}finally{e.children=we(e.children);if(t){e.selection=u(t)?we(t):t}else{e.selection=null}}}};function Fr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function jr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){Fr(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{Fr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var Er={insertNodes(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};er.withoutNormalizing(e,(()=>{var{hanging:n=false,voids:a=false,mode:i="lowest"}=t;var{at:o,match:s,select:f}=t;if(ar.isNode(r)){r=[r]}if(r.length===0){return}var[u]=r;if(!o){if(e.selection){o=e.selection}else if(e.children.length>0){o=er.end(e,[])}else{o=[0]}f=true}if(f==null){f=false}if(gr.isRange(o)){if(!n){o=er.unhangRange(e,o)}if(gr.isCollapsed(o)){o=o.anchor}else{var[,l]=gr.edges(o);var c=er.pointRef(e,l);Ir.delete(e,{at:o});o=c.unref()}}if(vr.isPoint(o)){if(s==null){if(wr.isText(u)){s=e=>wr.isText(e)}else if(e.isInline(u)){s=r=>wr.isText(r)||er.isInline(e,r)}else{s=r=>er.isBlock(e,r)}}var[v]=er.nodes(e,{at:o.path,match:s,mode:i,voids:a});if(v){var[,h]=v;var d=er.pathRef(e,h);var p=er.isEnd(e,o,h);Ir.splitNodes(e,{at:o,match:s,mode:i,voids:a});var g=d.unref();o=p?fr.next(g):g}else{return}}var m=fr.parent(o);var y=o[o.length-1];if(!a&&er.void(e,{at:m})){return}for(var b of r){var w=m.concat(y);y++;e.apply({type:"insert_node",path:w,node:b})}if(f){var O=er.end(e,o);if(O){Ir.select(e,O)}}}))},liftNodes(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};er.withoutNormalizing(e,(()=>{var{at:t=e.selection,mode:n="lowest",voids:a=false}=r;var{match:i}=r;if(i==null){i=fr.isPath(t)?Cr(e,t):r=>er.isBlock(e,r)}if(!t){return}var o=er.nodes(e,{at:t,match:i,mode:n,voids:a});var s=Array.from(o,(r=>{var[,t]=r;return er.pathRef(e,t)}));for(var f of s){var u=f.unref();if(u.length<2){throw new Error("Cannot lift node at a path [".concat(u,"] because it has a depth of less than `2`."))}var l=er.node(e,fr.parent(u));var[c,v]=l;var h=u[u.length-1];var{length:d}=c.children;if(d===1){var p=fr.next(v);Ir.moveNodes(e,{at:u,to:p,voids:a});Ir.removeNodes(e,{at:v,voids:a})}else if(h===0){Ir.moveNodes(e,{at:u,to:v,voids:a})}else if(h===d-1){var g=fr.next(v);Ir.moveNodes(e,{at:u,to:g,voids:a})}else{var m=fr.next(u);var y=fr.next(v);Ir.splitNodes(e,{at:m,voids:a});Ir.moveNodes(e,{at:u,to:y,voids:a})}}}))},mergeNodes(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};er.withoutNormalizing(e,(()=>{var{match:t,at:n=e.selection}=r;var{hanging:a=false,voids:i=false,mode:o="lowest"}=r;if(!n){return}if(t==null){if(fr.isPath(n)){var[s]=er.parent(e,n);t=e=>s.children.includes(e)}else{t=r=>er.isBlock(e,r)}}if(!a&&gr.isRange(n)){n=er.unhangRange(e,n)}if(gr.isRange(n)){if(gr.isCollapsed(n)){n=n.anchor}else{var[,f]=gr.edges(n);var u=er.pointRef(e,f);Ir.delete(e,{at:n});n=u.unref();if(r.at==null){Ir.select(e,n)}}}var[l]=er.nodes(e,{at:n,match:t,voids:i,mode:o});var c=er.previous(e,{at:n,match:t,voids:i,mode:o});if(!l||!c){return}var[v,h]=l;var[d,p]=c;if(h.length===0||p.length===0){return}var g=fr.next(p);var m=fr.common(h,p);var y=fr.isSibling(h,p);var b=Array.from(er.levels(e,{at:h}),(e=>{var[r]=e;return r})).slice(m.length).slice(0,-1);var w=er.above(e,{at:h,mode:"highest",match:r=>b.includes(r)&&kr(e,r)});var O=w&&er.pathRef(e,w[1]);var P;var x;if(wr.isText(v)&&wr.isText(d)){var A=Te(v,["text"]);x=d.text.length;P=A}else if(Xe.isElement(v)&&Xe.isElement(d)){var A=Te(v,["children"]);x=d.children.length;P=A}else{throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(v)," ").concat(JSON.stringify(d)))}if(!y){Ir.moveNodes(e,{at:h,to:g,voids:i})}if(O){Ir.removeNodes(e,{at:O.current,voids:i})}if(Xe.isElement(d)&&er.isEmpty(e,d)||wr.isText(d)&&d.text===""){Ir.removeNodes(e,{at:p,voids:i})}else{e.apply({type:"merge_node",path:g,position:x,properties:P})}if(O){O.unref()}}))},moveNodes(e,r){er.withoutNormalizing(e,(()=>{var{to:t,at:n=e.selection,mode:a="lowest",voids:i=false}=r;var{match:o}=r;if(!n){return}if(o==null){o=fr.isPath(n)?Cr(e,n):r=>er.isBlock(e,r)}var s=er.pathRef(e,t);var f=er.nodes(e,{at:n,match:o,mode:a,voids:i});var u=Array.from(f,(r=>{var[,t]=r;return er.pathRef(e,t)}));for(var l of u){var c=l.unref();var v=s.current;if(c.length!==0){e.apply({type:"move_node",path:c,newPath:v})}if(s.current&&fr.isSibling(v,c)&&fr.isAfter(v,c)){s.current=fr.next(s.current)}}s.unref()}))},removeNodes(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};er.withoutNormalizing(e,(()=>{var{hanging:t=false,voids:n=false,mode:a="lowest"}=r;var{at:i=e.selection,match:o}=r;if(!i){return}if(o==null){o=fr.isPath(i)?Cr(e,i):r=>er.isBlock(e,r)}if(!t&&gr.isRange(i)){i=er.unhangRange(e,i)}var s=er.nodes(e,{at:i,match:o,mode:a,voids:n});var f=Array.from(s,(r=>{var[,t]=r;return er.pathRef(e,t)}));for(var u of f){var l=u.unref();if(l){var[c]=er.node(e,l);e.apply({type:"remove_node",path:l,node:c})}}}))},setNodes(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};er.withoutNormalizing(e,(()=>{var{match:n,at:a=e.selection}=t;var{hanging:i=false,mode:o="lowest",split:s=false,voids:f=false}=t;if(!a){return}if(n==null){n=fr.isPath(a)?Cr(e,a):r=>er.isBlock(e,r)}if(!i&&gr.isRange(a)){a=er.unhangRange(e,a)}if(s&&gr.isRange(a)){var u=er.rangeRef(e,a,{affinity:"inward"});var[l,c]=gr.edges(a);var v=o==="lowest"?"lowest":"highest";var h=er.isEnd(e,c,c.path);Ir.splitNodes(e,{at:c,match:n,mode:v,voids:f,always:!h});var d=er.isStart(e,l,l.path);Ir.splitNodes(e,{at:l,match:n,mode:v,voids:f,always:!d});a=u.unref();if(t.at==null){Ir.select(e,a)}}for(var[p,g]of er.nodes(e,{at:a,match:n,mode:o,voids:f})){var m={};var y={};if(g.length===0){continue}for(var b in r){if(b==="children"||b==="text"){continue}if(r[b]!==p[b]){if(p.hasOwnProperty(b))m[b]=p[b];y[b]=r[b]}}if(Object.keys(y).length!==0){e.apply({type:"set_node",path:g,properties:m,newProperties:y})}}}))},splitNodes(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};er.withoutNormalizing(e,(()=>{var{mode:t="lowest",voids:n=false}=r;var{match:a,at:i=e.selection,height:o=0,always:s=false}=r;if(a==null){a=r=>er.isBlock(e,r)}if(gr.isRange(i)){i=Dr(e,i)}if(fr.isPath(i)){var f=i;var u=er.point(e,f);var[l]=er.parent(e,f);a=e=>e===l;o=u.path.length-f.length+1;i=u;s=true}if(!i){return}var c=er.pointRef(e,i,{affinity:"backward"});var[v]=er.nodes(e,{at:i,match:a,mode:t,voids:n});if(!v){return}var h=er.void(e,{at:i,mode:"highest"});var d=0;if(!n&&h){var[p,g]=h;if(Xe.isElement(p)&&e.isInline(p)){var m=er.after(e,g);if(!m){var y={text:""};var b=fr.next(g);Ir.insertNodes(e,y,{at:b,voids:n});m=er.point(e,b)}i=m;s=true}var w=i.path.length-g.length;o=w+1;s=true}var O=er.pointRef(e,i);var P=i.path.length-o;var[,x]=v;var A=i.path.slice(0,P);var F=o===0?i.offset:i.path[P]+d;for(var[j,E]of er.levels(e,{at:A,reverse:true,voids:n})){var k=false;if(E.length<x.length||E.length===0||!n&&er.isVoid(e,j)){break}var D=c.current;var C=er.isEnd(e,D,E);if(s||!c||!er.isEdge(e,D,E)){k=true;var N=ar.extractProps(j);e.apply({type:"split_node",path:E,position:F,properties:N})}F=E[E.length-1]+(k||C?1:0)}if(r.at==null){var _=O.current||er.end(e,[]);Ir.select(e,_)}c.unref();O.unref()}))},unsetNodes(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!Array.isArray(r)){r=[r]}var n={};for(var a of r){n[a]=null}Ir.setNodes(e,n,t)},unwrapNodes(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};er.withoutNormalizing(e,(()=>{var{mode:t="lowest",split:n=false,voids:a=false}=r;var{at:i=e.selection,match:o}=r;if(!i){return}if(o==null){o=fr.isPath(i)?Cr(e,i):r=>er.isBlock(e,r)}if(fr.isPath(i)){i=er.range(e,i)}var s=gr.isRange(i)?er.rangeRef(e,i):null;var f=er.nodes(e,{at:i,match:o,mode:t,voids:a});var u=Array.from(f,(r=>{var[,t]=r;return er.pathRef(e,t)}));var l=function r(t){var i=t.unref();var[o]=er.node(e,i);var f=er.range(e,i);if(n&&s){f=gr.intersection(s.current,f)}Ir.liftNodes(e,{at:f,match:e=>Xe.isAncestor(o)&&o.children.includes(e),voids:a})};for(var c of u){l(c)}if(s){s.unref()}}))},wrapNodes(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};er.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:a=false,voids:i=false}=t;var{match:o,at:s=e.selection}=t;if(!s){return}if(o==null){if(fr.isPath(s)){o=Cr(e,s)}else if(e.isInline(r)){o=r=>er.isInline(e,r)||wr.isText(r)}else{o=r=>er.isBlock(e,r)}}if(a&&gr.isRange(s)){var[f,u]=gr.edges(s);var l=er.rangeRef(e,s,{affinity:"inward"});Ir.splitNodes(e,{at:u,match:o,voids:i});Ir.splitNodes(e,{at:f,match:o,voids:i});s=l.unref();if(t.at==null){Ir.select(e,s)}}var c=Array.from(er.nodes(e,{at:s,match:e.isInline(r)?r=>er.isBlock(e,r):e=>er.isEditor(e),mode:"lowest",voids:i}));for(var[,v]of c){var h=gr.isRange(s)?gr.intersection(s,er.range(e,v)):s;if(!h){continue}var d=Array.from(er.nodes(e,{at:h,match:o,mode:n,voids:i}));if(d.length>0){(function(){var[t]=d;var n=d[d.length-1];var[,a]=t;var[,o]=n;var s=fr.equals(a,o)?fr.parent(a):fr.common(a,o);var f=er.range(e,a,o);var u=er.node(e,s);var[l]=u;var c=s.length+1;var v=fr.next(o.slice(0,c));var h=jr(jr({},r),{},{children:[]});Ir.insertNodes(e,h,{at:v,voids:i});Ir.moveNodes(e,{at:f,match:e=>Xe.isAncestor(l)&&l.children.includes(e),to:v.concat(0),voids:i})})()}}}))}};var kr=(e,r)=>{if(Xe.isElement(r)){var t=r;if(er.isVoid(e,r)){return true}else if(t.children.length===1){return kr(e,t.children[0])}else{return false}}else if(er.isEditor(r)){return false}else{return true}};var Dr=(e,r)=>{if(gr.isCollapsed(r)){return r.anchor}else{var[,t]=gr.edges(r);var n=er.pointRef(e,t);Ir.delete(e,{at:r});return n.unref()}};var Cr=(e,r)=>{var[t]=er.node(e,r);return e=>e===t};function Nr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function _r(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){Nr(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{Nr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var Br={collapse(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{edge:t="anchor"}=r;var{selection:n}=e;if(!n){return}else if(t==="anchor"){Ir.select(e,n.anchor)}else if(t==="focus"){Ir.select(e,n.focus)}else if(t==="start"){var[a]=gr.edges(n);Ir.select(e,a)}else if(t==="end"){var[,i]=gr.edges(n);Ir.select(e,i)}},deselect(e){var{selection:r}=e;if(r){e.apply({type:"set_selection",properties:r,newProperties:null})}},move(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{selection:t}=e;var{distance:n=1,unit:a="character",reverse:i=false}=r;var{edge:o=null}=r;if(!t){return}if(o==="start"){o=gr.isBackward(t)?"focus":"anchor"}if(o==="end"){o=gr.isBackward(t)?"anchor":"focus"}var{anchor:s,focus:f}=t;var u={distance:n,unit:a};var l={};if(o==null||o==="anchor"){var c=i?er.before(e,s,u):er.after(e,s,u);if(c){l.anchor=c}}if(o==null||o==="focus"){var v=i?er.before(e,f,u):er.after(e,f,u);if(v){l.focus=v}}Ir.setSelection(e,l)},select(e,r){var{selection:t}=e;r=er.range(e,r);if(t){Ir.setSelection(e,r);return}if(!gr.isRange(r)){throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(r)))}e.apply({type:"set_selection",properties:t,newProperties:r})},setPoint(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{selection:n}=e;var{edge:a="both"}=t;if(!n){return}if(a==="start"){a=gr.isBackward(n)?"focus":"anchor"}if(a==="end"){a=gr.isBackward(n)?"anchor":"focus"}var{anchor:i,focus:o}=n;var s=a==="anchor"?i:o;Ir.setSelection(e,{[a==="anchor"?"anchor":"focus"]:_r(_r({},s),r)})},setSelection(e,r){var{selection:t}=e;var n={};var a={};if(!t){return}for(var i in r){if(i==="anchor"&&r.anchor!=null&&!vr.equals(r.anchor,t.anchor)||i==="focus"&&r.focus!=null&&!vr.equals(r.focus,t.focus)||i!=="anchor"&&i!=="focus"&&r[i]!==t[i]){n[i]=t[i];a[i]=r[i]}}if(Object.keys(n).length>0){e.apply({type:"set_selection",properties:n,newProperties:a})}}};var Sr={delete(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};er.withoutNormalizing(e,(()=>{var{reverse:t=false,unit:n="character",distance:a=1,voids:i=false}=r;var{at:o=e.selection,hanging:s=false}=r;if(!o){return}if(gr.isRange(o)&&gr.isCollapsed(o)){o=o.anchor}if(vr.isPoint(o)){var f=er.void(e,{at:o,mode:"highest"});if(!i&&f){var[,u]=f;o=u}else{var l={unit:n,distance:a};var c=t?er.before(e,o,l)||er.start(e,[]):er.after(e,o,l)||er.end(e,[]);o={anchor:o,focus:c};s=true}}if(fr.isPath(o)){Ir.removeNodes(e,{at:o,voids:i});return}if(gr.isCollapsed(o)){return}if(!s){var[,v]=gr.edges(o);var h=er.end(e,[]);if(!vr.equals(v,h)){o=er.unhangRange(e,o,{voids:i})}}var[d,p]=gr.edges(o);var g=er.above(e,{match:r=>er.isBlock(e,r),at:d,voids:i});var m=er.above(e,{match:r=>er.isBlock(e,r),at:p,voids:i});var y=g&&m&&!fr.equals(g[1],m[1]);var b=fr.equals(d.path,p.path);var w=i?null:er.void(e,{at:d,mode:"highest"});var O=i?null:er.void(e,{at:p,mode:"highest"});if(w){var P=er.before(e,d);if(P&&g&&fr.isAncestor(g[1],P.path)){d=P}}if(O){var x=er.after(e,p);if(x&&m&&fr.isAncestor(m[1],x.path)){p=x}}var A=[];var F;for(var j of er.nodes(e,{at:o,voids:i})){var[E,k]=j;if(F&&fr.compare(k,F)===0){continue}if(!i&&er.isVoid(e,E)||!fr.isCommon(k,d.path)&&!fr.isCommon(k,p.path)){A.push(j);F=k}}var D=Array.from(A,(r=>{var[,t]=r;return er.pathRef(e,t)}));var C=er.pointRef(e,d);var N=er.pointRef(e,p);if(!b&&!w){var _=C.current;var[B]=er.leaf(e,_);var{path:S}=_;var{offset:R}=d;var T=B.text.slice(R);if(T.length>0)e.apply({type:"remove_text",path:S,offset:R,text:T})}for(var I of D){var q=I.unref();Ir.removeNodes(e,{at:q,voids:i})}if(!O){var z=N.current;var[M]=er.leaf(e,z);var{path:W}=z;var J=b?d.offset:0;var V=M.text.slice(J,p.offset);if(V.length>0)e.apply({type:"remove_text",path:W,offset:J,text:V})}if(!b&&y&&N.current&&C.current){Ir.mergeNodes(e,{at:N.current,hanging:true,voids:i})}var L=t?C.unref()||N.unref():N.unref()||C.unref();if(r.at==null&&L){Ir.select(e,L)}}))},insertFragment(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};er.withoutNormalizing(e,(()=>{var{hanging:n=false,voids:a=false}=t;var{at:i=e.selection}=t;if(!r.length){return}if(!i){return}else if(gr.isRange(i)){if(!n){i=er.unhangRange(e,i)}if(gr.isCollapsed(i)){i=i.anchor}else{var[,o]=gr.edges(i);if(!a&&er.void(e,{at:o})){return}var s=er.pointRef(e,o);Ir.delete(e,{at:i});i=s.unref()}}else if(fr.isPath(i)){i=er.start(e,i)}if(!a&&er.void(e,{at:i})){return}var f=er.above(e,{at:i,match:r=>er.isInline(e,r),mode:"highest",voids:a});if(f){var[,u]=f;if(er.isEnd(e,i,u)){var l=er.after(e,u);i=l}else if(er.isStart(e,i,u)){var c=er.before(e,u);i=c}}var v=er.above(e,{match:r=>er.isBlock(e,r),at:i,voids:a});var[,h]=v;var d=er.isStart(e,i,h);var p=er.isEnd(e,i,h);var g=!d||d&&p;var m=!p;var[,y]=ar.first({children:r},[]);var[,b]=ar.last({children:r},[]);var w=[];var O=r=>{var[t,n]=r;if(g&&fr.isAncestor(n,y)&&Xe.isElement(t)&&!e.isVoid(t)&&!e.isInline(t)){return false}if(m&&fr.isAncestor(n,b)&&Xe.isElement(t)&&!e.isVoid(t)&&!e.isInline(t)){return false}return true};for(var P of ar.nodes({children:r},{pass:O})){if(P[1].length>0&&O(P)){w.push(P)}}var x=[];var A=[];var F=[];var j=true;var E=false;for(var[k]of w){if(Xe.isElement(k)&&!e.isInline(k)){j=false;E=true;A.push(k)}else if(j){x.push(k)}else{F.push(k)}}var[D]=er.nodes(e,{at:i,match:r=>wr.isText(r)||er.isInline(e,r),mode:"highest",voids:a});var[,C]=D;var N=er.isStart(e,i,C);var _=er.isEnd(e,i,C);var B=er.pathRef(e,p?fr.next(h):h);var S=er.pathRef(e,_?fr.next(C):C);Ir.splitNodes(e,{at:i,match:r=>E?er.isBlock(e,r):wr.isText(r)||er.isInline(e,r),mode:E?"lowest":"highest",voids:a});var R=er.pathRef(e,!N||N&&_?fr.next(C):C);Ir.insertNodes(e,x,{at:R.current,match:r=>wr.isText(r)||er.isInline(e,r),mode:"highest",voids:a});Ir.insertNodes(e,A,{at:B.current,match:r=>er.isBlock(e,r),mode:"lowest",voids:a});Ir.insertNodes(e,F,{at:S.current,match:r=>wr.isText(r)||er.isInline(e,r),mode:"highest",voids:a});if(!t.at){var T;if(F.length>0){T=fr.previous(S.current)}else if(A.length>0){T=fr.previous(B.current)}else{T=fr.previous(R.current)}var I=er.end(e,T);Ir.select(e,I)}R.unref();B.unref();S.unref()}))},insertText(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};er.withoutNormalizing(e,(()=>{var{voids:n=false}=t;var{at:a=e.selection}=t;if(!a){return}if(fr.isPath(a)){a=er.range(e,a)}if(gr.isRange(a)){if(gr.isCollapsed(a)){a=a.anchor}else{var i=gr.end(a);if(!n&&er.void(e,{at:i})){return}var o=er.pointRef(e,i);Ir.delete(e,{at:a,voids:n});a=o.unref();Ir.setSelection(e,{anchor:a,focus:a})}}if(!n&&er.void(e,{at:a})){return}var{path:s,offset:f}=a;if(r.length>0)e.apply({type:"insert_text",path:s,offset:f,text:r})}))}};function Rr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function Tr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){Rr(Object(t),true).forEach((function(r){Ae(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{Rr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}var Ir=Tr(Tr(Tr(Tr({},Ar),Er),Br),Sr)},1607:function(e,r,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var n=/["'&<>]/;e.exports=a;function a(e){var r=""+e;var t=n.exec(r);if(!t){return r}var a;var i="";var o=0;var s=0;for(o=t.index;o<r.length;o++){switch(r.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#39;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}if(s!==o){i+=r.substring(s,o)}s=o+1;i+=a}return s!==o?i+r.substring(s,o):i}},3761:function(e,r,t){(function(e,n){var a;/*! https://mths.be/esrever v0.2.0 by @mathias */(function(i){var o=true&&r;var s=true&&e&&e.exports==o&&e;var f=typeof n=="object"&&n;if(f.global===f||f.window===f){i=f}var u=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g;var l=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g;var c=function(e){e=e.replace(u,(function(e,r,t){return c(t)+r})).replace(l,"$2$1");var r="";var t=e.length;while(t--){r+=e.charAt(t)}return r};var v={version:"0.2.0",reverse:c};if(true){!(a=function(){return v}.call(r,t,r,e),a!==undefined&&(e.exports=a))}else{var h}})(this)}).call(this,t(128)(e),t(74))},3762:function(e,r,t){"use strict";e.exports=function e(r,t){if(r===t)return true;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return false;var n,a,i;if(Array.isArray(r)){n=r.length;if(n!=t.length)return false;for(a=n;a--!==0;)if(!e(r[a],t[a]))return false;return true}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();i=Object.keys(r);n=i.length;if(n!==Object.keys(t).length)return false;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[a]))return false;for(a=n;a--!==0;){var o=i[a];if(!e(r[o],t[o]))return false}return true}return r!==r&&t!==t}}}]);