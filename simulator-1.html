<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤±æ™ºå‹å–„æ´»å‹•æ¨¡æ“¬å™¨</title>
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* è‡ªå®šç¾©æ¨£å¼ï¼Œç”¨æ–¼æ¨¡æ“¬ React æ‡‰ç”¨ä¸­çš„ä¸€äº›è¦–è¦ºæ•ˆæœ */
        body {
            font-family: 'Inter', sans-serif; /* ä½¿ç”¨è¼ƒç¾è§€çš„å­—é«” */
        }
        /* æ‹–æ›³æ™‚çš„æ¨£å¼ */
        .dragging {
            opacity: 0.5;
            transform: scale(0.95);
        }
        /* æ‹–æ›³ç›®æ¨™å€çš„è™›ç·šæ¡† */
        .drop-zone-border {
            border: 2px dashed #60a5fa; /* blue-400 */
        }
    </style>
    <!-- å¼•å…¥ Google Fonts -->
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800" style="font-family: 'Noto Sans TC', sans-serif;">å¤±æ™ºå‹å–„æ´»å‹•æ¨¡æ“¬å™¨</h1>
            <p class="text-md text-gray-500 mt-2" style="font-family: 'Noto Sans TC', sans-serif;">ä¸€å€‹å‘å¿—å·¥å±•ç¤ºæ´»å‹•è¨­è¨ˆçš„äº’å‹•å·¥å…·</p>
        </header>

        <div class="w-full max-w-4xl mx-auto">
            <!-- æ´»é ç±¤æŒ‰éˆ• -->
            <div class="flex justify-center border-b-2 border-gray-300">
                <button id="tab-sorting" class="px-4 py-2 text-lg font-semibold rounded-t-lg transition-colors duration-200 focus:outline-none bg-white text-blue-600 shadow-md" style="font-family: 'Noto Sans TC', sans-serif;">åˆ†é¡éŠæˆ²</button>
                <button id="tab-odd-one-out" class="px-4 py-2 text-lg font-semibold rounded-t-lg transition-colors duration-200 focus:outline-none bg-blue-500 text-white hover:bg-blue-600" style="font-family: 'Noto Sans TC', sans-serif;">æŒ‘å‡ºä¸åŒ</button>
            </div>

            <!-- å…§å®¹å€ -->
            <div id="content-area" class="bg-white rounded-b-xl shadow-2xl p-4 md:p-6">
                <!-- éŠæˆ²å…§å®¹å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥æ­¤è™• -->
            </div>
        </div>

        <footer class="text-center mt-8 text-sm text-gray-400">
            <p style="font-family: 'Noto Sans TC', sans-serif;">æ­¤å·¥å…·æ—¨åœ¨è¦–è¦ºåŒ–æ´»å‹•æµç¨‹ï¼Œå¯æ ¹æ“šå¯¦éš›éœ€æ±‚èª¿æ•´ç‰©å“èˆ‡åˆ†é¡ã€‚</p>
        </footer>
    </div>

    <!-- JavaScript é‚è¼¯ -->
    <script>
        // --- è³‡æ–™è¨­å®š ---

        const initialSortableItems = [
          { id: 'item-1', emoji: 'ğŸ', name: 'è˜‹æœ', use: 'é£Ÿç‰©' },
          { id: 'item-2', emoji: 'ğŸŒ', name: 'é¦™è•‰', use: 'é£Ÿç‰©' },
          { id: 'item-3', emoji: 'ğŸš—', name: 'æ±½è»Š', use: 'äº¤é€š' },
          { id: 'item-4', emoji: 'ğŸš²', name: 'è…³è¸è»Š', use: 'äº¤é€š' },
          { id: 'item-5', emoji: 'ğŸˆ', name: 'è²“', use: 'å‹•ç‰©' },
          { id: 'item-6', emoji: 'ğŸ•', name: 'ç‹—', use: 'å‹•ç‰©' },
          { id: 'item-7', emoji: 'ğŸ“', name: 'è‰è“', use: 'é£Ÿç‰©' },
          { id: 'item-8', emoji: 'ğŸšŒ', name: 'å·´å£«', use: 'äº¤é€š' },
          { id: 'item-9', emoji: 'ğŸ˜', name: 'å¤§è±¡', use: 'å‹•ç‰©' },
          { id: 'item-10', emoji: 'ğŸ‡', name: 'è‘¡è„', use: 'é£Ÿç‰©' },
          { id: 'item-11', emoji: 'âœˆï¸', name: 'é£›æ©Ÿ', use: 'äº¤é€š' },
          { id: 'item-12', emoji: 'ğŸ’', name: 'çŒ´å­', use: 'å‹•ç‰©' },
        ];

        const oddOneOutSets = [
          { id: 'set-1', items: [{ id: 'crab', emoji: 'ğŸ¦€', name: 'èƒèŸ¹' }, { id: 'dolphin', emoji: 'ğŸ¬', name: 'æµ·è±š' }, { id: 'fishbowl', emoji: 'ğŸ ', name: 'é­šç¼¸è£¡çš„é­š' }], correctId: 'fishbowl', explanation: 'èƒèŸ¹å’Œæµ·è±šæ˜¯ç”Ÿæ´»åœ¨è‡ªç„¶æµ·æ´‹ä¸­çš„å‹•ç‰©ï¼Œè€Œé­šç¼¸æ˜¯äººé€ å®¹å™¨ã€‚' },
          { id: 'set-2', items: [{ id: 'apple', emoji: 'ğŸ', name: 'è˜‹æœ' }, { id: 'banana', emoji: 'ğŸŒ', name: 'é¦™è•‰' }, { id: 'car', emoji: 'ğŸš—', name: 'æ±½è»Š' }], correctId: 'car', explanation: 'è˜‹æœå’Œé¦™è•‰æ˜¯æ°´æœï¼Œæ±½è»Šæ˜¯äº¤é€šå·¥å…·ã€‚' },
          { id: 'set-3', items: [{ id: 'book', emoji: 'ğŸ“–', name: 'æ›¸' }, { id: 'pencil', emoji: 'âœï¸', name: 'é‰›ç­†' }, { id: 'bed', emoji: 'ğŸ›ï¸', name: 'åºŠ' }], correctId: 'bed', explanation: 'æ›¸å’Œé‰›ç­†æ˜¯æ–‡å…·ï¼ŒåºŠæ˜¯å‚¢ä¿±ã€‚' },
          { id: 'set-4', items: [{ id: 'shirt', emoji: 'ğŸ‘•', name: 'Tæ¤' }, { id: 'pants', emoji: 'ğŸ‘–', name: 'è¤²å­' }, { id: 'sun', emoji: 'â˜€ï¸', name: 'å¤ªé™½' }], correctId: 'sun', explanation: 'Tæ¤å’Œè¤²å­æ˜¯è¡£ç‰©ï¼Œå¤ªé™½æ˜¯å¤©é«”ã€‚' }
        ];

        const categories = ['é£Ÿç‰©', 'äº¤é€š', 'å‹•ç‰©'];

        // --- æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹ ---
        let activeTab = 'sorting';
        let unsortedItems = [];
        let sortedItems = {};
        let currentOddOneOutSetIndex = 0;
        let draggedItemId = null;

        // --- DOM å…ƒç´  ---
        const contentArea = document.getElementById('content-area');
        const tabSortingBtn = document.getElementById('tab-sorting');
        const tabOddOneOutBtn = document.getElementById('tab-odd-one-out');

        // --- æ¸²æŸ“å‡½å¼ ---

        // æ¸²æŸ“åˆ†é¡éŠæˆ²
        function renderSortingGame() {
            contentArea.innerHTML = `
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800" style="font-family: 'Noto Sans TC', sans-serif;">æ´»å‹•ä¸€ï¼šåˆ†é¡éŠæˆ²</h2>
                    <button id="reset-sorting-btn" class="px-4 py-2 bg-indigo-500 text-white rounded-lg shadow hover:bg-indigo-600 transition-colors" style="font-family: 'Noto Sans TC', sans-serif;">é‡æ–°é–‹å§‹</button>
                </div>
                <p class="mb-6 text-gray-600" style="font-family: 'Noto Sans TC', sans-serif;">è«‹å°‡ä¸‹æ–¹çš„ç‰©å“æ‹–æ›³åˆ°å°æ‡‰çš„ã€Œç”¨é€”ã€åˆ†é¡ä¸­ã€‚</p>
                <div id="drop-zones" class="flex flex-col md:flex-row justify-center gap-4 mb-8"></div>
                <div class="bg-gray-200 rounded-xl p-4">
                    <h3 class="text-center text-lg font-semibold text-gray-700 mb-4" style="font-family: 'Noto Sans TC', sans-serif;">å¾…åˆ†é¡ç‰©å“</h3>
                    <div id="unsorted-items-area" class="flex flex-wrap justify-center items-start min-h-[150px]"></div>
                </div>
            `;
            renderDropZones();
            renderUnsortedItems();
            document.getElementById('reset-sorting-btn').addEventListener('click', initSortingGame);
        }

        // æ¸²æŸ“æ”¾ç½®å€
        function renderDropZones() {
            const dropZonesContainer = document.getElementById('drop-zones');
            dropZonesContainer.innerHTML = categories.map(cat => `
                <div class="w-full md:w-1/3 bg-blue-100 drop-zone-border rounded-xl p-4 m-2 min-h-[200px] transition-colors duration-300" data-category="${cat}">
                    <h3 class="text-center text-lg font-semibold text-blue-800 mb-3" style="font-family: 'Noto Sans TC', sans-serif;">${cat}</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                        ${sortedItems[cat].map(item => `
                            <div class="flex flex-col items-center p-2 bg-white/70 rounded-lg shadow-sm">
                                <span class="text-4xl">${item.emoji}</span>
                                <span class="mt-1 text-xs text-gray-600" style="font-family: 'Noto Sans TC', sans-serif;">${item.name}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
            
            // ç‚ºæ”¾ç½®å€åŠ ä¸Šäº‹ä»¶ç›£è½
            document.querySelectorAll('[data-category]').forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
            });
        }

        // æ¸²æŸ“æœªåˆ†é¡ç‰©å“
        function renderUnsortedItems() {
            const unsortedContainer = document.getElementById('unsorted-items-area');
            if (unsortedItems.length > 0) {
                unsortedContainer.innerHTML = unsortedItems.map(item => `
                    <div draggable="true" data-id="${item.id}" class="draggable-item flex flex-col items-center p-3 m-2 bg-white rounded-xl shadow-md cursor-grab active:cursor-grabbing transition-transform duration-200 hover:scale-110">
                        <span class="text-5xl md:text-6xl pointer-events-none">${item.emoji}</span>
                        <span class="mt-2 text-sm text-gray-700 pointer-events-none" style="font-family: 'Noto Sans TC', sans-serif;">${item.name}</span>
                    </div>
                `).join('');
            } else {
                unsortedContainer.innerHTML = `<p class="text-center text-green-600 font-bold py-8" style="font-family: 'Noto Sans TC', sans-serif;">æ­å–œï¼æ‰€æœ‰ç‰©å“éƒ½åˆ†é¡å®Œæˆï¼</p>`;
            }
             // ç‚ºå¯æ‹–æ›³ç‰©å“åŠ ä¸Šäº‹ä»¶ç›£è½
            document.querySelectorAll('.draggable-item').forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
            });
        }

        // æ¸²æŸ“æŒ‘å‡ºä¸åŒéŠæˆ²
        function renderOddOneOutGame() {
            const set = oddOneOutSets[currentOddOneOutSetIndex];
            contentArea.innerHTML = `
                <div class="flex flex-col items-center">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4" style="font-family: 'Noto Sans TC', sans-serif;">æ´»å‹•äºŒï¼šæŒ‘å‡ºä¸åŒçš„</h2>
                    <p class="mb-8 text-gray-600" style="font-family: 'Noto Sans TC', sans-serif;">å¾ä¸‹é¢ä¸‰æ¨£æ±è¥¿ä¸­ï¼Œé¸å‡ºä¸€å€‹è·Ÿå…¶ä»–å…©å€‹ä¸ä¸€æ¨£çš„ã€‚</p>
                    <div id="odd-one-out-items" class="flex justify-center items-center gap-4 md:gap-8 mb-6">
                        ${set.items.map(item => `
                            <div data-id="${item.id}" class="odd-item flex flex-col items-center p-4 md:p-6 bg-white rounded-2xl shadow-lg cursor-pointer transition-all duration-300 transform hover:scale-105 hover:shadow-xl">
                                <span class="text-6xl md:text-8xl pointer-events-none">${item.emoji}</span>
                                <span class="mt-3 text-base md:text-lg text-gray-800 pointer-events-none" style="font-family: 'Noto Sans TC', sans-serif;">${item.name}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div id="feedback-area" class="h-24 flex flex-col items-center justify-center text-center"></div>
                    <div id="next-btn-area"></div>
                </div>
            `;
            document.querySelectorAll('.odd-item').forEach(item => {
                item.addEventListener('click', handleOddItemClick);
            });
        }
        
        // --- äº‹ä»¶è™•ç†å‡½å¼ ---

        // åˆ‡æ›åˆ†é 
        function switchTab(tab) {
            activeTab = tab;
            if (tab === 'sorting') {
                tabSortingBtn.classList.add('bg-white', 'text-blue-600', 'shadow-md');
                tabSortingBtn.classList.remove('bg-blue-500', 'text-white', 'hover:bg-blue-600');
                tabOddOneOutBtn.classList.add('bg-blue-500', 'text-white', 'hover:bg-blue-600');
                tabOddOneOutBtn.classList.remove('bg-white', 'text-blue-600', 'shadow-md');
                initSortingGame();
            } else {
                tabOddOneOutBtn.classList.add('bg-white', 'text-blue-600', 'shadow-md');
                tabOddOneOutBtn.classList.remove('bg-blue-500', 'text-white', 'hover:bg-blue-600');
                tabSortingBtn.classList.add('bg-blue-500', 'text-white', 'hover:bg-blue-600');
                tabSortingBtn.classList.remove('bg-white', 'text-blue-600', 'shadow-md');
                initOddOneOutGame();
            }
        }

        // åˆ†é¡éŠæˆ²ï¼šæ‹–æ›³é–‹å§‹
        function handleDragStart(e) {
            draggedItemId = e.target.dataset.id;
            e.target.classList.add('dragging');
        }
        
        // åˆ†é¡éŠæˆ²ï¼šæ‹–æ›³çµæŸ
        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        // åˆ†é¡éŠæˆ²ï¼šæ‹–æ›³ç¶“é
        function handleDragOver(e) {
            e.preventDefault(); // å¿…é ˆï¼Œå¦å‰‡ drop äº‹ä»¶ä¸æœƒè§¸ç™¼
        }

        // åˆ†é¡éŠæˆ²ï¼šæ”¾ç½®
        function handleDrop(e) {
            e.preventDefault();
            const category = e.target.closest('[data-category]').dataset.category;
            const itemToMove = unsortedItems.find(item => item.id === draggedItemId);

            if (itemToMove) {
                unsortedItems = unsortedItems.filter(item => item.id !== draggedItemId);
                sortedItems[category].push(itemToMove);
                renderDropZones();
                renderUnsortedItems();
            }
        }

        // æŒ‘å‡ºä¸åŒï¼šé»æ“Šé¸é …
        function handleOddItemClick(e) {
            const selectedId = e.target.closest('.odd-item').dataset.id;
            const set = oddOneOutSets[currentOddOneOutSetIndex];
            const feedbackArea = document.getElementById('feedback-area');
            const nextBtnArea = document.getElementById('next-btn-area');
            
            let message, type;
            if (selectedId === set.correctId) {
                message = 'ç­”å°äº†ï¼';
                type = 'success';
            } else {
                message = 'å†æƒ³ä¸€æƒ³å–”ï¼';
                type = 'error';
            }

            feedbackArea.innerHTML = `
                <p class="text-xl font-bold ${type === 'success' ? 'text-green-600' : 'text-red-500'}" style="font-family: 'Noto Sans TC', sans-serif;">${message}</p>
                <div class="mt-2 text-gray-700 bg-yellow-100 p-3 rounded-lg">
                    <p style="font-family: 'Noto Sans TC', sans-serif;"><span class="font-bold">ç‚ºä»€éº¼å‘¢ï¼Ÿ</span> ${set.explanation}</p>
                </div>
            `;
            
            // æ¨™ç¤ºæ­£ç¢ºç­”æ¡ˆ
            document.querySelector(`.odd-item[data-id="${set.correctId}"]`).classList.add('border-4', 'border-green-500');

            // é¡¯ç¤ºä¸‹ä¸€é¡ŒæŒ‰éˆ•
            nextBtnArea.innerHTML = `<button id="next-set-btn" class="mt-4 px-6 py-3 bg-green-500 text-white font-bold rounded-lg shadow-md hover:bg-green-600 transition-transform transform hover:scale-105" style="font-family: 'Noto Sans TC', sans-serif;">ä¸‹ä¸€é¡Œ</button>`;
            document.getElementById('next-set-btn').addEventListener('click', () => {
                currentOddOneOutSetIndex = (currentOddOneOutSetIndex + 1) % oddOneOutSets.length;
                renderOddOneOutGame();
            });

            // ç§»é™¤é»æ“Šäº‹ä»¶ï¼Œé¿å…é‡è¤‡ä½œç­”
            document.querySelectorAll('.odd-item').forEach(item => {
                item.removeEventListener('click', handleOddItemClick);
                item.classList.remove('cursor-pointer', 'hover:scale-105');
            });
        }

        // --- åˆå§‹åŒ–å‡½å¼ ---
        
        // åˆå§‹åŒ–åˆ†é¡éŠæˆ²
        function initSortingGame() {
            unsortedItems = [...initialSortableItems];
            sortedItems = categories.reduce((acc, cat) => ({ ...acc, [cat]: [] }), {});
            renderSortingGame();
        }

        // åˆå§‹åŒ–æŒ‘å‡ºä¸åŒéŠæˆ²
        function initOddOneOutGame() {
            currentOddOneOutSetIndex = 0;
            renderOddOneOutGame();
        }

        // é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œçš„ä¸»å‡½å¼
        document.addEventListener('DOMContentLoaded', () => {
            tabSortingBtn.addEventListener('click', () => switchTab('sorting'));
            tabOddOneOutBtn.addEventListener('click', () => switchTab('oddOneOut'));
            
            // åˆå§‹è¼‰å…¥ç¬¬ä¸€å€‹éŠæˆ²
            initSortingGame();
        });

    </script>
</body>
</html>
